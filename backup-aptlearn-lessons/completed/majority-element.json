{
  "id": "majority-element",
  "title": "Majority element (basic)",
  "pattern": "hash-map",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what a majority element is\n2. Use hash maps to count element frequencies\n3. Identify the element that appears more than n/2 times\n4. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the Majority Element problem is asking.\n\nImagine you have an array of numbers: [3, 2, 3]\n\nYour task: Find the element that appears more than n/2 times, where n is the length of the array.\n\nLooking at the array:\n- Length n = 3\n- We need an element that appears more than 3/2 = 1.5 times\n- So we need an element that appears at least 2 times\n\nCounting occurrences:\n- 3 appears 2 times (at indices 0 and 2)\n- 2 appears 1 time (at index 1)\n\nSince 3 appears 2 times (which is more than 1.5), 3 is the majority element.\n\nThat's what the problem wants: the element that appears more than half the time in the array. You can assume the array always has a majority element.",
      "example": "nums = [3, 2, 3]\nn = 3\n\nWe need element appearing > 3/2 = 1.5 times\nSo we need at least 2 occurrences\n\nCount:\n- 3 appears 2 times âœ“\n- 2 appears 1 time\n\nAnswer: 3\n\nAnother example:\nnums = [2, 2, 1, 1, 1, 2, 2]\nn = 7\n\nWe need element appearing > 7/2 = 3.5 times\nSo we need at least 4 occurrences\n\nCount:\n- 2 appears 4 times âœ“\n- 1 appears 3 times\n\nAnswer: 2",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU find the majority element?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Count how many times each element appears, then find the one with count > n/2",
          "next": "explore-hashmap"
        },
        {
          "label": "Sort the array, then the middle element must be the majority",
          "next": "explore-sort"
        },
        {
          "label": "Use a voting algorithm (Boyer-Moore)",
          "next": "explore-voting"
        }
      ]
    },
    {
      "stepId": "explore-sort",
      "mentorSays": "That's a clever insight! You're thinking: \"If I sort the array, the majority element (which appears more than half the time) must be in the middle position.\"\n\nFor [3, 2, 3] sorted: [2, 3, 3]\n- Middle element (index 1) is 3 âœ“\n\nFor [2, 2, 1, 1, 1, 2, 2] sorted: [1, 1, 1, 2, 2, 2, 2]\n- Middle element (index 3) is 2 âœ“\n\nThis works! However, sorting takes O(n log n) time. There's a faster O(n) approach using hash maps, and an even more elegant O(n) approach using the Boyer-Moore voting algorithm.\n\nWould you like to learn the hash map approach first?",
      "choices": [
        {
          "label": "Yes, teach me the hash map approach",
          "next": "explore-hashmap"
        },
        {
          "label": "Yes, teach me the voting algorithm",
          "next": "explore-voting"
        },
        {
          "label": "No, I want to code the sort approach first",
          "next": "language-selection-sort"
        }
      ]
    },
    {
      "stepId": "explore-voting",
      "mentorSays": "Excellent! The Boyer-Moore voting algorithm is a very elegant O(n) time, O(1) space solution! Here's the core idea:\n\n1. **Think of it like voting**: Each element \"votes\" for itself\n2. **Track a candidate and count**: As we scan, if we see the candidate, increment count. If we see a different element, decrement count.\n3. **When count reaches 0**: The current element becomes the new candidate\n4. **The final candidate** is guaranteed to be the majority element (if one exists)\n\nLet's trace this with [2, 2, 1, 1, 1, 2, 2]:\n\n- **Start**: candidate = 2, count = 1\n- **At 2** (index 1): Same as candidate â†’ count = 2\n- **At 1** (index 2): Different â†’ count = 1\n- **At 1** (index 3): Different â†’ count = 0 â†’ candidate = 1, count = 1\n- **At 1** (index 4): Same as candidate â†’ count = 2\n- **At 2** (index 5): Different â†’ count = 1\n- **At 2** (index 6): Different â†’ count = 0 â†’ candidate = 2, count = 1\n\nFinal candidate: 2 âœ“\n\nThis is brilliant! However, it requires understanding the voting concept. Let's also learn the hash map approach which is more intuitive.",
      "choices": [
        {
          "label": "Yes, teach me the hash map approach first",
          "next": "explore-hashmap"
        },
        {
          "label": "No, I want to code the voting algorithm",
          "next": "language-selection-voting"
        }
      ]
    },
    {
      "stepId": "explore-hashmap",
      "mentorSays": "Excellent choice! The hash map approach is straightforward and intuitive. Here's the core idea:\n\n1. **Count occurrences**: Use a hash map to count how many times each element appears\n2. **Find majority**: Scan through the counts and find the element that appears more than n/2 times\n\nLet's trace this with [2, 2, 1, 1, 1, 2, 2]:\n\n**Count occurrences:**\n- 2 appears 4 times\n- 1 appears 3 times\n\nMap: {2: 4, 1: 3}\n\n**Check majority:**\nn = 7, so we need count > 7/2 = 3.5\n- 2 has count 4 > 3.5 âœ“\n- 1 has count 3 (not > 3.5)\n\nAnswer: 2\n\nThis is efficient (O(n) time) and easy to understand! Now let's code it step by step.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this hash map solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, 'let numbers = [3, 7, 2, 9, 5];' creates a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "let numbers = [3, 7, 2, 9, 5];\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n  // It will receive an array when we call the function\n}\n\n// When we call it:\nfindMax([3, 7, 2, 9, 5]);\n// The array [3, 7, 2, 9, 5] goes into 'arr'\n// Inside the function, 'arr' refers to [3, 7, 2, 9, 5]",
      "action": "continue",
      "next": "loop-check-js"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-js"
        }
      ]
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the majority element solution in JavaScript. We'll create a function that takes an array and returns the majority element.",
      "example": "function majorityElement(nums) {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-count-js"
    },
    {
      "stepId": "coding-count-js",
      "mentorSays": "First, let's create a hash map to count how many times each element appears in the array.",
      "example": "function majorityElement(nums) {\n  const count = {};\n  \n  // Count occurrences of each element\n  for (let i = 0; i < nums.length; i++) {\n    count[nums[i]] = (count[nums[i]] || 0) + 1;\n  }\n  // After this, count will have: {2: 4, 1: 3} for [2,2,1,1,1,2,2]\n}",
      "action": "continue",
      "next": "coding-find-js"
    },
    {
      "stepId": "coding-find-js",
      "mentorSays": "Now, let's find the element that appears more than n/2 times. We'll check each element's count.",
      "example": "function majorityElement(nums) {\n  const count = {};\n  const n = nums.length;\n  \n  // Count occurrences\n  for (let i = 0; i < n; i++) {\n    count[nums[i]] = (count[nums[i]] || 0) + 1;\n  }\n  \n  // Find element with count > n/2\n  for (let num in count) {\n    if (count[num] > n / 2) {\n      return parseInt(num);\n    }\n  }\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\nnums = [3, 2, 3]\nExpected output: 3\n\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2\n\nTry it in your IDE or code editor!",
      "example": "Test input 1:\nnums = [3, 2, 3]\nExpected output: 3\n\nTest input 2:\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, 'numbers = [3, 7, 2, 9, 5]' creates a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "def add(a, b):\n    return a + b\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'def find_max(arr):', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'find_max([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "def find_max(arr):\n  # 'arr' is a parameter\n  # It will receive an array when we call the function\n\n# When we call it:\nfind_max([3, 7, 2, 9, 5])\n# The array [3, 7, 2, 9, 5] goes into 'arr'\n# Inside the function, 'arr' refers to [3, 7, 2, 9, 5]",
      "action": "continue",
      "next": "loop-check-python"
    },
    {
      "stepId": "loop-check-python",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Python?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-python"
        }
      ]
    },
    {
      "stepId": "loop-explanation-python",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Python runs code for each item in a sequence.\n\nFor example, 'for i in range(3)' means: run the code 3 times, with i being 0, then 1, then 2.",
      "example": "for i in range(3):\n    print(i)\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement the majority element solution in Python. We'll create a function that takes an array and returns the majority element.",
      "example": "def majority_element(nums):\n    # Your code here\n    pass",
      "action": "continue",
      "next": "coding-count-python"
    },
    {
      "stepId": "coding-count-python",
      "mentorSays": "First, let's create a dictionary to count how many times each element appears in the array.",
      "example": "def majority_element(nums):\n    count = {}\n    \n    # Count occurrences of each element\n    for num in nums:\n        count[num] = count.get(num, 0) + 1\n    # After this, count will have: {2: 4, 1: 3} for [2,2,1,1,1,2,2]",
      "action": "continue",
      "next": "coding-find-python"
    },
    {
      "stepId": "coding-find-python",
      "mentorSays": "Now, let's find the element that appears more than n/2 times. We'll check each element's count.",
      "example": "def majority_element(nums):\n    count = {}\n    n = len(nums)\n    \n    # Count occurrences\n    for num in nums:\n        count[num] = count.get(num, 0) + 1\n    \n    # Find element with count > n/2\n    for num, cnt in count.items():\n        if cnt > n / 2:\n            return num",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\nnums = [3, 2, 3]\nExpected output: 3\n\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2\n\nTry it in your IDE or code editor!",
      "example": "Test input 1:\nnums = [3, 2, 3]\nExpected output: 3\n\nTest input 2:\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, 'int[] numbers = {3, 7, 2, 9, 5};' creates a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "int[] numbers = {3, 7, 2, 9, 5};\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know methods",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain methods",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A method (Java's version of a function) is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the method does the work, and gives you a result (return value).",
      "example": "public int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "When we write a method, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are like variables that receive values when you call the method. When you write 'public int findMax(int[] arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the method.\n\nWhen you call 'findMax(new int[]{3, 7, 2, 9, 5})', the array [3, 7, 2, 9, 5] gets passed into the method and stored in the 'arr' parameter. Inside the method, you can use 'arr' to refer to that array.",
      "example": "public int findMax(int[] arr) {\n  // 'arr' is a parameter\n  // It will receive an array when we call the method\n}\n\n// When we call it:\nfindMax(new int[]{3, 7, 2, 9, 5});\n// The array [3, 7, 2, 9, 5] goes into 'arr'\n// Inside the method, 'arr' refers to [3, 7, 2, 9, 5]",
      "action": "continue",
      "next": "loop-check-java"
    },
    {
      "stepId": "loop-check-java",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Java?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-java"
        }
      ]
    },
    {
      "stepId": "loop-explanation-java",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (int i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (int i = 0; i < 3; i++) {\n    System.out.println(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement the majority element solution in Java. We'll create a method that takes an array and returns the majority element.",
      "example": "import java.util.HashMap;\n\npublic int majorityElement(int[] nums) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-count-java"
    },
    {
      "stepId": "coding-count-java",
      "mentorSays": "First, let's create a HashMap to count how many times each element appears in the array.",
      "example": "import java.util.HashMap;\n\npublic int majorityElement(int[] nums) {\n    HashMap<Integer, Integer> count = new HashMap<>();\n    \n    // Count occurrences of each element\n    for (int i = 0; i < nums.length; i++) {\n        count.put(nums[i], count.getOrDefault(nums[i], 0) + 1);\n    }\n    // After this, count will have: {2: 4, 1: 3} for [2,2,1,1,1,2,2]\n}",
      "action": "continue",
      "next": "coding-find-java"
    },
    {
      "stepId": "coding-find-java",
      "mentorSays": "Now, let's find the element that appears more than n/2 times. We'll check each element's count.",
      "example": "import java.util.HashMap;\n\npublic int majorityElement(int[] nums) {\n    HashMap<Integer, Integer> count = new HashMap<>();\n    int n = nums.length;\n    \n    // Count occurrences\n    for (int i = 0; i < n; i++) {\n        count.put(nums[i], count.getOrDefault(nums[i], 0) + 1);\n    }\n    \n    // Find element with count > n/2\n    for (int num : count.keySet()) {\n        if (count.get(num) > n / 2) {\n            return num;\n        }\n    }\n    \n    return -1; // Should never reach here if majority exists\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\nnums = [3, 2, 3]\nExpected output: 3\n\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2\n\nTry it in your IDE or code editor!",
      "example": "Test input 1:\nnums = [3, 2, 3]\nExpected output: 3\n\nTest input 2:\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, 'vector<int> numbers = {3, 7, 2, 9, 5};' creates a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "vector<int> numbers = {3, 7, 2, 9, 5};\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'int findMax(vector<int>& arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax({3, 7, 2, 9, 5})', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "int findMax(vector<int>& arr) {\n  // 'arr' is a parameter\n  // It will receive an array when we call the function\n}\n\n// When we call it:\nfindMax({3, 7, 2, 9, 5});\n// The array [3, 7, 2, 9, 5] goes into 'arr'\n// Inside the function, 'arr' refers to [3, 7, 2, 9, 5]",
      "action": "continue",
      "next": "loop-check-cpp"
    },
    {
      "stepId": "loop-check-cpp",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in C++?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "loop-explanation-cpp",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (int i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (int i = 0; i < 3; i++) {\n    cout << i << endl;\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement the majority element solution in C++. We'll create a function that takes an array and returns the majority element.",
      "example": "#include <unordered_map>\n#include <vector>\n\nint majorityElement(vector<int>& nums) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-count-cpp"
    },
    {
      "stepId": "coding-count-cpp",
      "mentorSays": "First, let's create an unordered_map to count how many times each element appears in the array.",
      "example": "#include <unordered_map>\n#include <vector>\n\nint majorityElement(vector<int>& nums) {\n    unordered_map<int, int> count;\n    \n    // Count occurrences of each element\n    for (int i = 0; i < nums.size(); i++) {\n        count[nums[i]]++;\n    }\n    // After this, count will have: {2: 4, 1: 3} for [2,2,1,1,1,2,2]\n}",
      "action": "continue",
      "next": "coding-find-cpp"
    },
    {
      "stepId": "coding-find-cpp",
      "mentorSays": "Now, let's find the element that appears more than n/2 times. We'll check each element's count.",
      "example": "#include <unordered_map>\n#include <vector>\n\nint majorityElement(vector<int>& nums) {\n    unordered_map<int, int> count;\n    int n = nums.size();\n    \n    // Count occurrences\n    for (int i = 0; i < n; i++) {\n        count[nums[i]]++;\n    }\n    \n    // Find element with count > n/2\n    for (auto& pair : count) {\n        if (pair.second > n / 2) {\n            return pair.first;\n        }\n    }\n    \n    return -1; // Should never reach here if majority exists\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\nnums = [3, 2, 3]\nExpected output: 3\n\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2\n\nTry it in your IDE or code editor!",
      "example": "Test input 1:\nnums = [3, 2, 3]\nExpected output: 3\n\nTest input 2:\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, 'let numbers: number[] = [3, 7, 2, 9, 5];' creates a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "let numbers: number[] = [3, 7, 2, 9, 5];\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a: number, b: number): number {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr: number[]): number', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr: number[]): number {\n  // 'arr' is a parameter\n  // It will receive an array when we call the function\n}\n\n// When we call it:\nfindMax([3, 7, 2, 9, 5]);\n// The array [3, 7, 2, 9, 5] goes into 'arr'\n// Inside the function, 'arr' refers to [3, 7, 2, 9, 5]",
      "action": "continue",
      "next": "loop-check-ts"
    },
    {
      "stepId": "loop-check-ts",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-ts"
        }
      ]
    },
    {
      "stepId": "loop-explanation-ts",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement the majority element solution in TypeScript. We'll create a function that takes an array and returns the majority element.",
      "example": "function majorityElement(nums: number[]): number {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-count-ts"
    },
    {
      "stepId": "coding-count-ts",
      "mentorSays": "First, let's create a map to count how many times each element appears in the array.",
      "example": "function majorityElement(nums: number[]): number {\n  const count: { [key: number]: number } = {};\n  \n  // Count occurrences of each element\n  for (let i = 0; i < nums.length; i++) {\n    count[nums[i]] = (count[nums[i]] || 0) + 1;\n  }\n  // After this, count will have: {2: 4, 1: 3} for [2,2,1,1,1,2,2]\n}",
      "action": "continue",
      "next": "coding-find-ts"
    },
    {
      "stepId": "coding-find-ts",
      "mentorSays": "Now, let's find the element that appears more than n/2 times. We'll check each element's count.",
      "example": "function majorityElement(nums: number[]): number {\n  const count: { [key: number]: number } = {};\n  const n = nums.length;\n  \n  // Count occurrences\n  for (let i = 0; i < n; i++) {\n    count[nums[i]] = (count[nums[i]] || 0) + 1;\n  }\n  \n  // Find element with count > n/2\n  for (let num in count) {\n    if (count[parseInt(num)] > n / 2) {\n      return parseInt(num);\n    }\n  }\n  \n  return -1; // Should never reach here if majority exists\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\nnums = [3, 2, 3]\nExpected output: 3\n\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2\n\nTry it in your IDE or code editor!",
      "example": "Test input 1:\nnums = [3, 2, 3]\nExpected output: 3\n\nTest input 2:\nnums = [2, 2, 1, 1, 1, 2, 2]\nExpected output: 2",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "language-selection-sort",
      "mentorSays": "Great! Let's code the sort solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "coding-sort-js"
        },
        {
          "label": "Python",
          "next": "coding-sort-python"
        },
        {
          "label": "Java",
          "next": "coding-sort-java"
        },
        {
          "label": "C++",
          "next": "coding-sort-cpp"
        },
        {
          "label": "TypeScript",
          "next": "coding-sort-ts"
        }
      ]
    },
    {
      "stepId": "coding-sort-js",
      "mentorSays": "The sort approach is simple: sort the array, then return the middle element. Since the majority element appears more than n/2 times, it must be at the middle position after sorting.",
      "example": "function majorityElement(nums) {\n  nums.sort((a, b) => a - b);\n  return nums[Math.floor(nums.length / 2)];\n}",
      "action": "continue",
      "next": "recommend-hashmap"
    },
    {
      "stepId": "coding-sort-python",
      "mentorSays": "The sort approach is simple: sort the array, then return the middle element. Since the majority element appears more than n/2 times, it must be at the middle position after sorting.",
      "example": "def majority_element(nums):\n    nums.sort()\n    return nums[len(nums) // 2]",
      "action": "continue",
      "next": "recommend-hashmap"
    },
    {
      "stepId": "coding-sort-java",
      "mentorSays": "The sort approach is simple: sort the array, then return the middle element. Since the majority element appears more than n/2 times, it must be at the middle position after sorting.",
      "example": "import java.util.Arrays;\n\npublic int majorityElement(int[] nums) {\n    Arrays.sort(nums);\n    return nums[nums.length / 2];\n}",
      "action": "continue",
      "next": "recommend-hashmap"
    },
    {
      "stepId": "coding-sort-cpp",
      "mentorSays": "The sort approach is simple: sort the array, then return the middle element. Since the majority element appears more than n/2 times, it must be at the middle position after sorting.",
      "example": "#include <algorithm>\n#include <vector>\n\nint majorityElement(vector<int>& nums) {\n    sort(nums.begin(), nums.end());\n    return nums[nums.size() / 2];\n}",
      "action": "continue",
      "next": "recommend-hashmap"
    },
    {
      "stepId": "coding-sort-ts",
      "mentorSays": "The sort approach is simple: sort the array, then return the middle element. Since the majority element appears more than n/2 times, it must be at the middle position after sorting.",
      "example": "function majorityElement(nums: number[]): number {\n  nums.sort((a, b) => a - b);\n  return nums[Math.floor(nums.length / 2)];\n}",
      "action": "continue",
      "next": "recommend-hashmap"
    },
    {
      "stepId": "recommend-hashmap",
      "mentorSays": "Great job! You've successfully implemented the sort approach. This solution works and is concise, but sorting takes O(n log n) time.\n\nThe hash map method is also O(n) time and is more intuitive. Would you like to learn the hash map approach now?",
      "choices": [
        {
          "label": "Yes, teach me the hash map approach",
          "next": "explore-hashmap"
        },
        {
          "label": "No, I'm done for now",
          "next": "final"
        }
      ]
    },
    {
      "stepId": "language-selection-voting",
      "mentorSays": "Great! Let's code the Boyer-Moore voting algorithm. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "coding-voting-js"
        },
        {
          "label": "Python",
          "next": "coding-voting-python"
        },
        {
          "label": "Java",
          "next": "coding-voting-java"
        },
        {
          "label": "C++",
          "next": "coding-voting-cpp"
        },
        {
          "label": "TypeScript",
          "next": "coding-voting-ts"
        }
      ]
    },
    {
      "stepId": "coding-voting-js",
      "mentorSays": "The Boyer-Moore voting algorithm tracks a candidate and count. If we see the candidate, increment count. If we see a different element, decrement count. When count reaches 0, the current element becomes the new candidate.",
      "example": "function majorityElement(nums) {\n  let candidate = nums[0];\n  let count = 1;\n  \n  // Find candidate\n  for (let i = 1; i < nums.length; i++) {\n    if (count === 0) {\n      candidate = nums[i];\n      count = 1;\n    } else if (nums[i] === candidate) {\n      count++;\n    } else {\n      count--;\n    }\n  }\n  \n  return candidate;\n}",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-voting-python",
      "mentorSays": "The Boyer-Moore voting algorithm tracks a candidate and count. If we see the candidate, increment count. If we see a different element, decrement count. When count reaches 0, the current element becomes the new candidate.",
      "example": "def majority_element(nums):\n    candidate = nums[0]\n    count = 1\n    \n    # Find candidate\n    for i in range(1, len(nums)):\n        if count == 0:\n            candidate = nums[i]\n            count = 1\n        elif nums[i] == candidate:\n            count += 1\n        else:\n            count -= 1\n    \n    return candidate",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-voting-java",
      "mentorSays": "The Boyer-Moore voting algorithm tracks a candidate and count. If we see the candidate, increment count. If we see a different element, decrement count. When count reaches 0, the current element becomes the new candidate.",
      "example": "public int majorityElement(int[] nums) {\n    int candidate = nums[0];\n    int count = 1;\n    \n    // Find candidate\n    for (int i = 1; i < nums.length; i++) {\n        if (count == 0) {\n            candidate = nums[i];\n            count = 1;\n        } else if (nums[i] == candidate) {\n            count++;\n        } else {\n            count--;\n        }\n    }\n    \n    return candidate;\n}",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-voting-cpp",
      "mentorSays": "The Boyer-Moore voting algorithm tracks a candidate and count. If we see the candidate, increment count. If we see a different element, decrement count. When count reaches 0, the current element becomes the new candidate.",
      "example": "int majorityElement(vector<int>& nums) {\n    int candidate = nums[0];\n    int count = 1;\n    \n    // Find candidate\n    for (int i = 1; i < nums.size(); i++) {\n        if (count == 0) {\n            candidate = nums[i];\n            count = 1;\n        } else if (nums[i] == candidate) {\n            count++;\n        } else {\n            count--;\n        }\n    }\n    \n    return candidate;\n}",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "coding-voting-ts",
      "mentorSays": "The Boyer-Moore voting algorithm tracks a candidate and count. If we see the candidate, increment count. If we see a different element, decrement count. When count reaches 0, the current element becomes the new candidate.",
      "example": "function majorityElement(nums: number[]): number {\n  let candidate = nums[0];\n  let count = 1;\n  \n  // Find candidate\n  for (let i = 1; i < nums.length; i++) {\n    if (count === 0) {\n      candidate = nums[i];\n      count = 1;\n    } else if (nums[i] === candidate) {\n      count++;\n    } else {\n      count--;\n    }\n  }\n  \n  return candidate;\n}",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've learned to think through the Majority Element problem. You understand what the problem asks for, how to count element frequencies, and you've explored different approaches to solve it.\n\nThis kind of thinkingâ€”breaking down problems, considering different solutions, and using hash maps or clever algorithms like Boyer-Mooreâ€”is essential for solving algorithm problems. Keep practicing!",
      "action": "continue"
    }
  ]
}
