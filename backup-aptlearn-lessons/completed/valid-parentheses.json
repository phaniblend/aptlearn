{
  "id": "valid-parentheses",
  "title": "Valid parentheses",
  "pattern": "stack",
  "difficulty": "easy",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what valid parentheses means\n2. Use a stack to check if parentheses are balanced\n3. Match opening and closing parentheses correctly\n4. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the Valid Parentheses problem is asking.\n\nImagine you have a string of parentheses: \"()\"\n\nThis is valid because:\n- The opening '(' has a matching closing ')'\n- They're in the right order\n\nAnother example: \"()[]{}\"\n- '(' matches with ')' âœ“\n- '[' matches with ']' âœ“\n- '{' matches with '}' âœ“\n\nThis is also valid!\n\nBut consider: \"([)]\"\n- '(' is opened first\n- '[' is opened second\n- ']' closes '[' âœ“\n- ')' should close '(', but '(' was opened before '[', so ')' should come before ']'\n\nThis is invalid! The rule is: the most recently opened parenthesis must be closed first (like a stack - last in, first out).\n\nThat's what the problem wants: check if all parentheses are properly matched and closed in the correct order.",
      "example": "s = \"()\"\nValid: âœ“\n\ns = \"()[]{}\"\nValid: âœ“\n\ns = \"([)]\"\nInvalid: âœ— (wrong order)\n\ns = \"{[]}\"\nValid: âœ“\n\ns = \"([\"\nInvalid: âœ— (unclosed parentheses)",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU check if parentheses are valid?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Use a stack to track opening parentheses",
          "next": "explore-stack"
        },
        {
          "label": "Count opening and closing parentheses",
          "next": "explore-count"
        },
        {
          "label": "Use recursion to check nested pairs",
          "next": "explore-recursion"
        }
      ]
    },
    {
      "stepId": "explore-count",
      "mentorSays": "That's a good start! You're thinking: \"If I count opening and closing parentheses, they should be equal.\"\n\nFor \"()\":\n- '(' count: 1\n- ')' count: 1\n- Equal! âœ“\n\nBut consider \"([)]\":\n- '(' count: 1, ')' count: 1 âœ“\n- '[' count: 1, ']' count: 1 âœ“\n- All counts match, but it's invalid!\n\nThe problem is order matters! We need to ensure that when we see a closing parenthesis, it matches the most recently opened one. That's why we need a stack.\n\nWould you like to learn the stack approach?",
      "choices": [
        {
          "label": "Yes, teach me the stack approach",
          "next": "explore-stack"
        },
        {
          "label": "I want to try recursion",
          "next": "explore-recursion"
        }
      ]
    },
    {
      "stepId": "explore-recursion",
      "mentorSays": "Recursion is an interesting approach! However, for this problem, a stack is simpler and more efficient. The stack approach is O(n) time and O(n) space, and it's easier to understand.\n\nLet's learn the stack approach, which is the standard solution for this problem.",
      "action": "continue",
      "next": "explore-stack"
    },
    {
      "stepId": "explore-stack",
      "mentorSays": "Excellent choice! The stack approach is perfect for this problem. Here's the core idea:\n\n1. **Use a stack**: When we see an opening parenthesis ('(', '[', '{'), push it onto the stack.\n2. **Match on close**: When we see a closing parenthesis (')', ']', '}'), check if the stack is empty or if the top doesn't match. If either is true, it's invalid. Otherwise, pop the matching opening parenthesis.\n3. **Check at end**: After processing all characters, the stack should be empty (all parentheses matched).\n\nLet's trace this with \"()\":\n\n- **Character '('**: Opening, push '(' â†’ stack = ['(']\n- **Character ')'**: Closing, top of stack is '(', matches! Pop '(' â†’ stack = []\n- **End**: Stack is empty âœ“ Valid!\n\nNow let's trace \"([)]\":\n\n- **Character '('**: Opening, push '(' â†’ stack = ['(']\n- **Character '['**: Opening, push '[' â†’ stack = ['(', '[']\n- **Character ']'**: Closing, top of stack is '[', matches! Pop '[' â†’ stack = ['(']\n- **Character ')'**: Closing, top of stack is '(', matches! Pop '(' â†’ stack = []\n- **End**: Stack is empty\n\nWait - this would say it's valid, but \"([)]\" is actually invalid because '(' was opened before '[', so ')' should come before ']'. The standard stack solution correctly handles this by ensuring the most recently opened parenthesis is closed first. The stack naturally enforces proper nesting!",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code the stack solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'stack' or 's') and put data inside it.\n\nFor example, 'let stack = [];' creates a variable that stores an array (which we'll use as a stack). Later, you can use that variable name to refer to it.",
      "example": "let stack = [];\n\nNow the variable refers to an empty array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function isValid(s)', the 's' is a parameter - it's a placeholder that will receive an actual string when you call the function.\n\nWhen you call 'isValid(\"()\")', the string \"()\" goes into 's'. Inside the function, you can use 's' to refer to that string.",
      "example": "function isValid(s) {\n  // 's' is a parameter\n}\n\n// When we call it:\nisValid(\"()\");\n// The string \"()\" goes into 's'",
      "action": "continue",
      "next": "loop-check-js"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-js"
        }
      ]
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the valid parentheses solution in JavaScript. We'll create a function that takes a string and returns true if the parentheses are valid, false otherwise.",
      "example": "function isValid(s) {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-stack-js"
    },
    {
      "stepId": "coding-stack-js",
      "mentorSays": "First, let's create a stack (array) to track opening parentheses, and a map to match opening and closing parentheses.",
      "example": "function isValid(s) {\n  let stack = [];\n  let map = {\n    ')': '(',\n    ']': '[',\n    '}': '{'\n  };\n  // map tells us: ')' matches '(', ']' matches '[', '}' matches '{'\n}",
      "action": "continue",
      "next": "coding-loop-js"
    },
    {
      "stepId": "coding-loop-js",
      "mentorSays": "Now, let's loop through each character in the string. If it's an opening parenthesis, push it onto the stack. If it's a closing parenthesis, check if it matches the top of the stack.",
      "example": "function isValid(s) {\n  let stack = [];\n  let map = {\n    ')': '(',\n    ']': '[',\n    '}': '{'\n  };\n  \n  for (let char of s) {\n    if (char in map) {\n      // It's a closing parenthesis\n      // Check if stack is empty or top doesn't match\n      if (stack.length === 0 || stack.pop() !== map[char]) {\n        return false;\n      }\n    } else {\n      // It's an opening parenthesis, push it\n      stack.push(char);\n    }\n  }\n  \n  // At the end, stack should be empty\n  return stack.length === 0;\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\ns = \"()\" â†’ Expected: true\ns = \"()[]{}\" â†’ Expected: true\ns = \"([)]\" â†’ Expected: false\ns = \"{[]}\" â†’ Expected: true\n\nTry it in your IDE or code editor!",
      "example": "Test inputs:\ns = \"()\" â†’ true\ns = \"()[]{}\" â†’ true\ns = \"([)]\" â†’ false\ns = \"{[]}\" â†’ true\ns = \"([\" â†’ false",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'stack' or 's') and put data inside it.\n\nFor example, 'stack = []' creates a variable that stores a list (which we'll use as a stack). Later, you can use that variable name to refer to it.",
      "example": "stack = []\n\nNow the variable refers to an empty list\nWe can use the variable name to access this list",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "def add(a, b):\n    return a + b\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-python"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-python"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'def is_valid(s):', the 's' is a parameter - it's a placeholder that will receive an actual string when you call the function.\n\nWhen you call 'is_valid(\"()\")', the string \"()\" goes into 's'. Inside the function, you can use 's' to refer to that string.",
      "example": "def is_valid(s):\n  # 's' is a parameter\n\n# When we call it:\nis_valid(\"()\")\n# The string \"()\" goes into 's'",
      "action": "continue",
      "next": "loop-check-python"
    },
    {
      "stepId": "loop-check-python",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Python?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-python"
        }
      ]
    },
    {
      "stepId": "loop-explanation-python",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Python runs code for each item in a sequence.\n\nFor example, 'for i in range(3):' means: run the code 3 times, with i being 0, then 1, then 2.",
      "example": "for i in range(3):\n    print(i)\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement the valid parentheses solution in Python. We'll create a function that takes a string and returns True if the parentheses are valid, False otherwise.",
      "example": "def is_valid(s):\n    # Your code here\n    pass",
      "action": "continue",
      "next": "coding-stack-python"
    },
    {
      "stepId": "coding-stack-python",
      "mentorSays": "First, let's create a stack (list) to track opening parentheses, and a dictionary to match opening and closing parentheses.",
      "example": "def is_valid(s):\n    stack = []\n    map_char = {\n        ')': '(',\n        ']': '[',\n        '}': '{'\n    }\n    # map_char tells us: ')' matches '(', ']' matches '[', '}' matches '{'",
      "action": "continue",
      "next": "coding-loop-python"
    },
    {
      "stepId": "coding-loop-python",
      "mentorSays": "Now, let's loop through each character in the string. If it's an opening parenthesis, push it onto the stack. If it's a closing parenthesis, check if it matches the top of the stack.",
      "example": "def is_valid(s):\n    stack = []\n    map_char = {\n        ')': '(',\n        ']': '[',\n        '}': '{'\n    }\n    \n    for char in s:\n        if char in map_char:\n            # It's a closing parenthesis\n            # Check if stack is empty or top doesn't match\n            if not stack or stack.pop() != map_char[char]:\n                return False\n        else:\n            # It's an opening parenthesis, push it\n            stack.append(char)\n    \n    # At the end, stack should be empty\n    return len(stack) == 0",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\ns = \"()\" â†’ Expected: True\ns = \"()[]{}\" â†’ Expected: True\ns = \"([)]\" â†’ Expected: False\ns = \"{[]}\" â†’ Expected: True\n\nTry it in your IDE or code editor!",
      "example": "Test inputs:\ns = \"()\" â†’ True\ns = \"()[]{}\" â†’ True\ns = \"([)]\" â†’ False\ns = \"{[]}\" â†’ True\ns = \"([\" â†’ False",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'stack' or 's') and put data inside it.\n\nFor example, 'Stack<Character> stack = new Stack<>();' creates a variable that stores a stack. Later, you can use that variable name to refer to it.",
      "example": "Stack<Character> stack = new Stack<>();\n\nNow the variable refers to an empty stack\nWe can use the variable name to access this stack",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know methods",
          "next": "parameter-check-java"
        },
        {
          "label": "No, explain methods",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A method (Java's version of a function) is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the method does the work, and gives you a result (return value).",
      "example": "public int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "When we write a method, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-java"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-java"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are like variables that receive values when you call the method. When you write 'public boolean isValid(String s)', the 's' is a parameter - it's a placeholder that will receive an actual string when you call the method.\n\nWhen you call 'isValid(\"()\")', the string \"()\" goes into 's'. Inside the method, you can use 's' to refer to that string.",
      "example": "public boolean isValid(String s) {\n  // 's' is a parameter\n}\n\n// When we call it:\nisValid(\"()\");\n// The string \"()\" goes into 's'",
      "action": "continue",
      "next": "loop-check-java"
    },
    {
      "stepId": "loop-check-java",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Java?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-java"
        }
      ]
    },
    {
      "stepId": "loop-explanation-java",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (int i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (int i = 0; i < 3; i++) {\n    System.out.println(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement the valid parentheses solution in Java. We'll create a method that takes a string and returns true if the parentheses are valid, false otherwise.",
      "example": "public boolean isValid(String s) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-stack-java"
    },
    {
      "stepId": "coding-stack-java",
      "mentorSays": "First, let's create a stack to track opening parentheses, and a map to match opening and closing parentheses.",
      "example": "public boolean isValid(String s) {\n    Stack<Character> stack = new Stack<>();\n    Map<Character, Character> map = new HashMap<>();\n    map.put(')', '(');\n    map.put(']', '[');\n    map.put('}', '{');\n    // map tells us: ')' matches '(', ']' matches '[', '}' matches '{'\n}",
      "action": "continue",
      "next": "coding-loop-java"
    },
    {
      "stepId": "coding-loop-java",
      "mentorSays": "Now, let's loop through each character in the string. If it's an opening parenthesis, push it onto the stack. If it's a closing parenthesis, check if it matches the top of the stack.",
      "example": "public boolean isValid(String s) {\n    Stack<Character> stack = new Stack<>();\n    Map<Character, Character> map = new HashMap<>();\n    map.put(')', '(');\n    map.put(']', '[');\n    map.put('}', '{');\n    \n    for (char c : s.toCharArray()) {\n        if (map.containsKey(c)) {\n            // It's a closing parenthesis\n            // Check if stack is empty or top doesn't match\n            if (stack.isEmpty() || stack.pop() != map.get(c)) {\n                return false;\n            }\n        } else {\n            // It's an opening parenthesis, push it\n            stack.push(c);\n        }\n    }\n    \n    // At the end, stack should be empty\n    return stack.isEmpty();\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\ns = \"()\" â†’ Expected: true\ns = \"()[]{}\" â†’ Expected: true\ns = \"([)]\" â†’ Expected: false\ns = \"{[]}\" â†’ Expected: true\n\nTry it in your IDE or code editor!",
      "example": "Test inputs:\ns = \"()\" â†’ true\ns = \"()[]{}\" â†’ true\ns = \"([)]\" â†’ false\ns = \"{[]}\" â†’ true\ns = \"([\" â†’ false",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'stack' or 's') and put data inside it.\n\nFor example, 'stack<char> st;' creates a variable that stores a stack. Later, you can use that variable name to refer to it.",
      "example": "stack<char> st;\n\nNow the variable refers to an empty stack\nWe can use the variable name to access this stack",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'bool isValid(string s)', the 's' is a parameter - it's a placeholder that will receive an actual string when you call the function.\n\nWhen you call 'isValid(\"()\")', the string \"()\" goes into 's'. Inside the function, you can use 's' to refer to that string.",
      "example": "bool isValid(string s) {\n  // 's' is a parameter\n}\n\n// When we call it:\nisValid(\"()\");\n// The string \"()\" goes into 's'",
      "action": "continue",
      "next": "loop-check-cpp"
    },
    {
      "stepId": "loop-check-cpp",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in C++?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "loop-explanation-cpp",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (int i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (int i = 0; i < 3; i++) {\n    cout << i << endl;\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement the valid parentheses solution in C++. We'll create a function that takes a string and returns true if the parentheses are valid, false otherwise.",
      "example": "bool isValid(string s) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-stack-cpp"
    },
    {
      "stepId": "coding-stack-cpp",
      "mentorSays": "First, let's create a stack to track opening parentheses, and a map to match opening and closing parentheses.",
      "example": "bool isValid(string s) {\n    stack<char> st;\n    unordered_map<char, char> map;\n    map[')'] = '(';\n    map[']'] = '[';\n    map['}'] = '{';\n    // map tells us: ')' matches '(', ']' matches '[', '}' matches '{'\n}",
      "action": "continue",
      "next": "coding-loop-cpp"
    },
    {
      "stepId": "coding-loop-cpp",
      "mentorSays": "Now, let's loop through each character in the string. If it's an opening parenthesis, push it onto the stack. If it's a closing parenthesis, check if it matches the top of the stack.",
      "example": "bool isValid(string s) {\n    stack<char> st;\n    unordered_map<char, char> map;\n    map[')'] = '(';\n    map[']'] = '[';\n    map['}'] = '{';\n    \n    for (char c : s) {\n        if (map.find(c) != map.end()) {\n            // It's a closing parenthesis\n            // Check if stack is empty or top doesn't match\n            if (st.empty() || st.top() != map[c]) {\n                return false;\n            }\n            st.pop();\n        } else {\n            // It's an opening parenthesis, push it\n            st.push(c);\n        }\n    }\n    \n    // At the end, stack should be empty\n    return st.empty();\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\ns = \"()\" â†’ Expected: true\ns = \"()[]{}\" â†’ Expected: true\ns = \"([)]\" â†’ Expected: false\ns = \"{[]}\" â†’ Expected: true\n\nTry it in your IDE or code editor!",
      "example": "Test inputs:\ns = \"()\" â†’ true\ns = \"()[]{}\" â†’ true\ns = \"([)]\" â†’ false\ns = \"{[]}\" â†’ true\ns = \"([\" â†’ false",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'stack' or 's') and put data inside it.\n\nFor example, 'let stack: string[] = [];' creates a variable that stores an array (which we'll use as a stack). Later, you can use that variable name to refer to it.",
      "example": "let stack: string[] = [];\n\nNow the variable refers to an empty array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a: number, b: number): number {\n  return a + b;\n}\n\nadd(3, 5) returns 8\nadd(10, 20) returns 30",
      "action": "continue",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-ts"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function isValid(s: string): boolean', the 's' is a parameter - it's a placeholder that will receive an actual string when you call the function.\n\nWhen you call 'isValid(\"()\")', the string \"()\" goes into 's'. Inside the function, you can use 's' to refer to that string.",
      "example": "function isValid(s: string): boolean {\n  // 's' is a parameter\n}\n\n// When we call it:\nisValid(\"()\");\n// The string \"()\" goes into 's'",
      "action": "continue",
      "next": "loop-check-ts"
    },
    {
      "stepId": "loop-check-ts",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-ts"
        }
      ]
    },
    {
      "stepId": "loop-explanation-ts",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time. So it runs 3 times: when i is 0, 1, and 2.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement the valid parentheses solution in TypeScript. We'll create a function that takes a string and returns true if the parentheses are valid, false otherwise.",
      "example": "function isValid(s: string): boolean {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-stack-ts"
    },
    {
      "stepId": "coding-stack-ts",
      "mentorSays": "First, let's create a stack (array) to track opening parentheses, and a map to match opening and closing parentheses.",
      "example": "function isValid(s: string): boolean {\n  let stack: string[] = [];\n  let map: {[key: string]: string} = {\n    ')': '(',\n    ']': '[',\n    '}': '{'\n  };\n  // map tells us: ')' matches '(', ']' matches '[', '}' matches '{'\n}",
      "action": "continue",
      "next": "coding-loop-ts"
    },
    {
      "stepId": "coding-loop-ts",
      "mentorSays": "Now, let's loop through each character in the string. If it's an opening parenthesis, push it onto the stack. If it's a closing parenthesis, check if it matches the top of the stack.",
      "example": "function isValid(s: string): boolean {\n  let stack: string[] = [];\n  let map: {[key: string]: string} = {\n    ')': '(',\n    ']': '[',\n    '}': '{'\n  };\n  \n  for (let char of s) {\n    if (char in map) {\n      // It's a closing parenthesis\n      // Check if stack is empty or top doesn't match\n      if (stack.length === 0 || stack.pop() !== map[char]) {\n        return false;\n      }\n    } else {\n      // It's an opening parenthesis, push it\n      stack.push(char);\n    }\n  }\n  \n  // At the end, stack should be empty\n  return stack.length === 0;\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code with the examples we used earlier:\n\ns = \"()\" â†’ Expected: true\ns = \"()[]{}\" â†’ Expected: true\ns = \"([)]\" â†’ Expected: false\ns = \"{[]}\" â†’ Expected: true\n\nTry it in your IDE or code editor!",
      "example": "Test inputs:\ns = \"()\" â†’ true\ns = \"()[]{}\" â†’ true\ns = \"([)]\" â†’ false\ns = \"{[]}\" â†’ true\ns = \"([\" â†’ false",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've learned to think through the Valid Parentheses problem. You understand what valid parentheses means, how to use a stack to track opening parentheses, and how to match them with closing parentheses.\n\nThis kind of thinkingâ€”using stacks to handle nested structures and matching pairsâ€”is essential for solving many algorithm problems. Keep practicing!",
      "action": "continue"
    }
  ]
}
