{
  "id": "task-scheduler",
  "title": "Task scheduler",
  "pattern": "queue",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what the Task Scheduler problem asks for\n2. Use a greedy approach to schedule tasks with cooldown periods\n3. Handle the case where we need idle time slots\n4. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the Task Scheduler problem is asking.\n\nImagine you have tasks: ['A', 'A', 'A', 'B', 'B', 'B']\n\nAnd a cooldown period: n = 2\n\nThis means: After executing a task, you must wait n time units before executing the same task again.\n\nFor example, if you execute 'A' at time 0, you cannot execute 'A' again until time 3 (0 + 2 + 1).\n\nYour task: Find the minimum time to complete all tasks.\n\nLet's think about scheduling:\n- Time 0: Execute 'A'\n- Time 1: Execute 'B' (can't execute 'A' yet, cooldown)\n- Time 2: Execute 'A' (cooldown period passed)\n- Time 3: Execute 'B'\n- Time 4: Execute 'A'\n- Time 5: Execute 'B'\n\nTotal time: 6 units\n\nBut wait, could we do better? Let's try:\n- Time 0: 'A'\n- Time 1: 'B'\n- Time 2: 'A'\n- Time 3: 'B'\n- Time 4: 'A'\n- Time 5: 'B'\n\nStill 6 units. Actually, this is optimal! We can't do better because we have 3 of each task, and with cooldown 2, we need at least 6 time slots.\n\nThat's what the problem wants: the minimum time to complete all tasks given the cooldown constraint.",
      "example": "tasks = ['A', 'A', 'A', 'B', 'B', 'B']\nn = 2 (cooldown period)\n\nSchedule:\nTime 0: A\nTime 1: B\nTime 2: A\nTime 3: B\nTime 4: A\nTime 5: B\n\nAnswer: 6\n\nAnother example:\ntasks = ['A', 'A', 'A', 'B', 'B', 'C']\nn = 2\n\nSchedule:\nTime 0: A\nTime 1: B\nTime 2: A\nTime 3: C (idle slot could be used)\nTime 4: A\nTime 5: B\n\nAnswer: 6",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU schedule tasks to minimize total time?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Count task frequencies, then calculate based on the most frequent task",
          "next": "explore-frequency"
        },
        {
          "label": "Use a greedy approach: always execute the task with highest remaining count",
          "next": "explore-greedy"
        },
        {
          "label": "Simulate the scheduling process step by step",
          "next": "explore-simulation"
        }
      ]
    },
    {
      "stepId": "explore-simulation",
      "mentorSays": "That's a practical approach! You're thinking: \"I'll simulate the scheduling process, at each time step choosing which task to execute.\"\n\nThis works! However, it can be complex to implement correctly, especially handling the cooldown periods and choosing which task to execute when multiple are available.\n\nThere's a more elegant mathematical approach based on task frequencies. Would you like to learn that?",
      "action": "continue",
      "next": "explore-frequency"
    },
    {
      "stepId": "explore-greedy",
      "mentorSays": "Excellent thinking! A greedy approach makes sense: at each step, execute the task with the highest remaining count (that's not in cooldown).\n\nThis works well! However, implementing it requires tracking cooldown periods for each task, which can be complex.\n\nThere's a simpler mathematical approach that calculates the answer directly from task frequencies. Would you like to learn that?",
      "action": "continue",
      "next": "explore-frequency"
    },
    {
      "stepId": "explore-frequency",
      "mentorSays": "Excellent choice! The frequency-based approach is elegant and efficient. Here's the core idea:\n\n1. **Count task frequencies**: Find how many times each task appears\n2. **Find the most frequent task**: Let's call its frequency `maxFreq`\n3. **Calculate minimum time**: \n   - The most frequent task needs `maxFreq` executions\n   - Between executions, we need `n` cooldown slots\n   - So we need at least `(maxFreq - 1) * (n + 1) + 1` slots for the framework\n   - If multiple tasks have maxFreq, we add them: `(maxFreq - 1) * (n + 1) + countMaxFreq`\n   - But we must fit all tasks, so: `max(calculated, totalTasks)`\n\nLet's trace this with ['A', 'A', 'A', 'B', 'B', 'B'] and n = 2:\n\n- **Step 1**: Count frequencies\n  - A: 3 times\n  - B: 3 times\n  - maxFreq = 3, countMaxFreq = 2\n\n- **Step 2**: Calculate\n  - Framework: (3 - 1) * (2 + 1) + 2 = 2 * 3 + 2 = 8\n  - totalTasks = 6\n  - Answer: max(8, 6) = 8? But we can schedule in 6!\n\nWait, let me reconsider. The key insight: if we can interleave tasks efficiently, we might not need all the calculated slots.\n\nActually, the correct formula accounts for this:\n- Calculate: (maxFreq - 1) * (n + 1) + countMaxFreq\n- But if totalTasks is larger, we need at least totalTasks slots\n- Answer: max((maxFreq - 1) * (n + 1) + countMaxFreq, totalTasks)\n\nFor ['A', 'A', 'A', 'B', 'B', 'B'], n = 2:\n- Calculation gives 8, but we can do it in 6 by interleaving\n- So the answer is actually max(8, 6) = 8? No!\n\nThe correct insight: The formula (maxFreq - 1) * (n + 1) + countMaxFreq gives the minimum if we need idle slots. But if we can fit all tasks without idle slots, the answer is totalTasks.\n\nFor ['A', 'A', 'A', 'B', 'B', 'B'], n = 2:\n- We can schedule: A, B, A, B, A, B (no idle needed)\n- Answer: 6 = totalTasks\n\nFor ['A', 'A', 'A', 'B', 'B'], n = 2:\n- maxFreq = 3, countMaxFreq = 1\n- Calculation: (3 - 1) * (2 + 1) + 1 = 7\n- We need: A, B, A, idle, A, B = 7 slots (2 idle)\n- Answer: 7\n\nThe formula works! Answer = max((maxFreq - 1) * (n + 1) + countMaxFreq, totalTasks).\n\nNow let's code it step by step!",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'freq' or 'maxFreq') and put data inside it.\n\nFor example, 'let freq = {};' creates a variable that stores an object (hash map).",
      "example": "let freq = {};\n\nNow the variable refers to an empty object\nWe can use the variable name to access this object",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "main-variables-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in JavaScript, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-js"
    },
    {
      "stepId": "main-functions-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "main-next-js"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-js"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-js"
    },
    {
      "stepId": "main-parameters-check-js",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "main-next-js"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-js"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-js",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-js"
    },
    {
      "stepId": "main-loops-check-js",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-js"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-js"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in JavaScript runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the task scheduler solution in JavaScript. We'll create a function that takes tasks array and cooldown n, then returns the minimum time needed.",
      "example": "function leastInterval(tasks, n) {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-count-freq-js"
    },
    {
      "stepId": "coding-count-freq-js",
      "mentorSays": "First, let's count the frequency of each task using a hash map.",
      "example": "function leastInterval(tasks, n) {\n  // Count task frequencies\n  const freq = {};\n  for (let task of tasks) {\n    freq[task] = (freq[task] || 0) + 1;\n  }\n  // For ['A', 'A', 'A', 'B', 'B', 'B']:\n  // freq = {'A': 3, 'B': 3}\n}",
      "action": "continue",
      "next": "coding-find-max-js"
    },
    {
      "stepId": "coding-find-max-js",
      "mentorSays": "Now, let's find the maximum frequency and count how many tasks have that frequency.",
      "example": "function leastInterval(tasks, n) {\n  const freq = {};\n  for (let task of tasks) {\n    freq[task] = (freq[task] || 0) + 1;\n  }\n  \n  // Find max frequency and count tasks with that frequency\n  const frequencies = Object.values(freq);\n  const maxFreq = Math.max(...frequencies);\n  const countMaxFreq = frequencies.filter(f => f === maxFreq).length;\n  // maxFreq = 3, countMaxFreq = 2\n}",
      "action": "continue",
      "next": "coding-calculate-js"
    },
    {
      "stepId": "coding-calculate-js",
      "mentorSays": "Now, let's calculate the minimum time using the formula: (maxFreq - 1) * (n + 1) + countMaxFreq. But we also need to ensure we have at least totalTasks slots, so we take the maximum.",
      "example": "function leastInterval(tasks, n) {\n  const freq = {};\n  for (let task of tasks) {\n    freq[task] = (freq[task] || 0) + 1;\n  }\n  \n  const frequencies = Object.values(freq);\n  const maxFreq = Math.max(...frequencies);\n  const countMaxFreq = frequencies.filter(f => f === maxFreq).length;\n  \n  // Calculate minimum time\n  const calculated = (maxFreq - 1) * (n + 1) + countMaxFreq;\n  const totalTasks = tasks.length;\n  \n  return Math.max(calculated, totalTasks);\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\ntasks = ['A', 'A', 'A', 'B', 'B', 'B']\nn = 2\n\nExpected output: 6\n\nTry it in your IDE or code editor!",
      "example": "Test input:\ntasks = ['A', 'A', 'A', 'B', 'B', 'B']\nn = 2\n\nExpected output: 6\n\nBecause we can schedule: A, B, A, B, A, B (no idle slots needed).",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "main-variables-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "main-next-python"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in Python, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-python"
    },
    {
      "stepId": "main-functions-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "main-next-python"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-python"
    },
    {
      "stepId": "main-parameters-check-python",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "main-next-python"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-python",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-python"
    },
    {
      "stepId": "main-loops-check-python",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in Python?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-python"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-python"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-python",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Python runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement the task scheduler solution in Python.",
      "example": "def least_interval(tasks, n):\n    # Your code here\n    pass",
      "action": "continue",
      "next": "coding-count-freq-python"
    },
    {
      "stepId": "coding-count-freq-python",
      "mentorSays": "First, let's count the frequency of each task using a dictionary.",
      "example": "def least_interval(tasks, n):\n    from collections import Counter\n    freq = Counter(tasks)\n    # For ['A', 'A', 'A', 'B', 'B', 'B']: freq = Counter({'A': 3, 'B': 3})",
      "action": "continue",
      "next": "coding-find-max-python"
    },
    {
      "stepId": "coding-find-max-python",
      "mentorSays": "Now, find the maximum frequency and count how many tasks have that frequency.",
      "example": "def least_interval(tasks, n):\n    from collections import Counter\n    freq = Counter(tasks)\n    \n    frequencies = list(freq.values())\n    max_freq = max(frequencies)\n    count_max_freq = frequencies.count(max_freq)",
      "action": "continue",
      "next": "coding-calculate-python"
    },
    {
      "stepId": "coding-calculate-python",
      "mentorSays": "Now calculate the minimum time using the formula and return the maximum of calculated and total tasks.",
      "example": "def least_interval(tasks, n):\n    from collections import Counter\n    freq = Counter(tasks)\n    frequencies = list(freq.values())\n    max_freq = max(frequencies)\n    count_max_freq = frequencies.count(max_freq)\n    \n    calculated = (max_freq - 1) * (n + 1) + count_max_freq\n    return max(calculated, len(tasks))",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Test with tasks = ['A', 'A', 'A', 'B', 'B', 'B'], n = 2. Expected: 6.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "main-variables-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "main-next-java"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in Java, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-java"
    },
    {
      "stepId": "main-functions-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "main-next-java"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-java",
      "mentorSays": "A method is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the method does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-java"
    },
    {
      "stepId": "main-parameters-check-java",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "main-next-java"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-java",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-java"
    },
    {
      "stepId": "main-loops-check-java",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in Java?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-java"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-java"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-java",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in Java runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement the task scheduler solution in Java.",
      "example": "public int leastInterval(char[] tasks, int n) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-count-freq-java"
    },
    {
      "stepId": "coding-count-freq-java",
      "mentorSays": "First, count task frequencies using a HashMap.",
      "example": "public int leastInterval(char[] tasks, int n) {\n    Map<Character, Integer> freq = new HashMap<>();\n    for (char task : tasks) {\n        freq.put(task, freq.getOrDefault(task, 0) + 1);\n    }",
      "action": "continue",
      "next": "coding-find-max-java"
    },
    {
      "stepId": "coding-find-max-java",
      "mentorSays": "Find max frequency and count tasks with that frequency.",
      "example": "    int maxFreq = Collections.max(freq.values());\n    int countMaxFreq = 0;\n    for (int f : freq.values()) {\n        if (f == maxFreq) countMaxFreq++;\n    }",
      "action": "continue",
      "next": "coding-calculate-java"
    },
    {
      "stepId": "coding-calculate-java",
      "mentorSays": "Calculate and return the minimum time.",
      "example": "    int calculated = (maxFreq - 1) * (n + 1) + countMaxFreq;\n    return Math.max(calculated, tasks.length);\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Test with tasks = ['A','A','A','B','B','B'], n = 2. Expected: 6.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "main-variables-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "main-next-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in C++, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-cpp"
    },
    {
      "stepId": "main-functions-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "main-next-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-cpp"
    },
    {
      "stepId": "main-parameters-check-cpp",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "main-next-cpp"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-cpp",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-cpp"
    },
    {
      "stepId": "main-loops-check-cpp",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in C++?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-cpp"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-cpp",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in C++ runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement the task scheduler solution in C++.",
      "example": "int leastInterval(vector<char>& tasks, int n) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-count-freq-cpp"
    },
    {
      "stepId": "coding-count-freq-cpp",
      "mentorSays": "Count task frequencies using an unordered_map.",
      "example": "    unordered_map<char, int> freq;\n    for (char task : tasks) {\n        freq[task]++;\n    }",
      "action": "continue",
      "next": "coding-find-max-cpp"
    },
    {
      "stepId": "coding-find-max-cpp",
      "mentorSays": "Find max frequency and count tasks with that frequency.",
      "example": "    int maxFreq = 0, countMaxFreq = 0;\n    for (auto& p : freq) {\n        if (p.second > maxFreq) {\n            maxFreq = p.second;\n            countMaxFreq = 1;\n        } else if (p.second == maxFreq) {\n            countMaxFreq++;\n        }\n    }",
      "action": "continue",
      "next": "coding-calculate-cpp"
    },
    {
      "stepId": "coding-calculate-cpp",
      "mentorSays": "Calculate and return the minimum time.",
      "example": "    int calculated = (maxFreq - 1) * (n + 1) + countMaxFreq;\n    return max(calculated, (int)tasks.size());\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Test with tasks = ['A','A','A','B','B','B'], n = 2. Expected: 6.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "main-variables-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "main-next-ts"
        },
        {
          "label": "No, explain variables",
          "next": "main-variables-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-variables-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'numbers') and put data inside it.\n\nFor example, in TypeScript, you can create a variable that stores an array. Later, you can use that variable name to refer to the array.",
      "example": "numbers = [3, 7, 2, 9, 5]\n\nNow the variable refers to the array\nWe can use the variable name to access this array",
      "action": "continue",
      "next": "main-function-check-ts"
    },
    {
      "stepId": "main-functions-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "main-next-ts"
        },
        {
          "label": "No, explain functions",
          "next": "main-functions-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-functions-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "main-parameter-check-ts"
    },
    {
      "stepId": "main-parameters-check-ts",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "main-next-ts"
        },
        {
          "label": "No, explain parameters",
          "next": "main-parameters-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-parameters-explanation-ts",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function findMax(arr)', the 'arr' is a parameter - it's a placeholder that will receive an actual array when you call the function.\n\nWhen you call 'findMax([3, 7, 2, 9, 5])', the array [3, 7, 2, 9, 5] gets passed into the function and stored in the 'arr' parameter. Inside the function, you can use 'arr' to refer to that array.",
      "example": "function findMax(arr) {\n  // 'arr' is a parameter\n}\n\nfindMax([3, 7, 2, 9, 5]);\n// The array goes into 'arr'",
      "action": "continue",
      "next": "main-loop-check-ts"
    },
    {
      "stepId": "main-loops-check-ts",
      "mentorSays": "To solve this, we'll need to use a loop. Do you know what a loop is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "main-next-ts"
        },
        {
          "label": "No, explain loops",
          "next": "main-loops-explanation-ts"
        }
      ]
    },
    {
      "stepId": "main-loops-explanation-ts",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop in TypeScript runs code for each item in a sequence.\n\nFor example, you can loop through an array to check each element one by one.",
      "example": "for (let i = 0; i < arr.length; i++) {\n  // Process arr[i]\n}",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement the task scheduler solution in TypeScript.",
      "example": "function leastInterval(tasks: string[], n: number): number {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-count-freq-ts"
    },
    {
      "stepId": "coding-count-freq-ts",
      "mentorSays": "Count task frequencies using an object.",
      "example": "  const freq: {[key: string]: number} = {};\n  for (let task of tasks) {\n    freq[task] = (freq[task] || 0) + 1;\n  }",
      "action": "continue",
      "next": "coding-find-max-ts"
    },
    {
      "stepId": "coding-find-max-ts",
      "mentorSays": "Find max frequency and count tasks with that frequency.",
      "example": "  const frequencies = Object.values(freq);\n  const maxFreq = Math.max(...frequencies);\n  const countMaxFreq = frequencies.filter(f => f === maxFreq).length;",
      "action": "continue",
      "next": "coding-calculate-ts"
    },
    {
      "stepId": "coding-calculate-ts",
      "mentorSays": "Calculate and return the minimum time.",
      "example": "  const calculated = (maxFreq - 1) * (n + 1) + countMaxFreq;\n  return Math.max(calculated, tasks.length);\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Test with tasks = ['A','A','A','B','B','B'], n = 2. Expected: 6.",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "test-code",
      "mentorSays": "Perfect! Now try running your code with the example input. Test it to make sure it produces the expected output!",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've completed this lesson. Practice more to master this pattern!",
      "action": "continue"
    }
  ]
}