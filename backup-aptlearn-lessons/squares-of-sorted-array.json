{
  "id": "squares-of-sorted-array",
  "title": "Squares of sorted array",
  "pattern": "two-pointers",
  "difficulty": "easy",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand what it means to square array elements and return them sorted\n2. Use two pointers from both ends to build the result efficiently\n3. Handle negative numbers correctly when squaring\n4. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the Squares of Sorted Array problem is asking.\n\nImagine you have a sorted array: [-4, -1, 0, 3, 10]\n\nYour task: Square each number and return them in sorted order.\n\nLet's square each number:\n- (-4)Â² = 16\n- (-1)Â² = 1\n- 0Â² = 0\n- 3Â² = 9\n- 10Â² = 100\n\nNow we need them sorted: [0, 1, 9, 16, 100]\n\nNotice something interesting: The original array was sorted, but after squaring, the order changed! The largest squared values come from the ends (either the most negative number like -4, or the most positive number like 10).\n\nThat's the key insight: We'll use two pointers from both ends, compare absolute values, and fill the result from right to left (largest to smallest).",
      "example": "nums = [-4, -1, 0, 3, 10]\n\nSquare each: 16, 1, 0, 9, 100\n\nReturn sorted: [0, 1, 9, 16, 100]\n\nAnother example:\nnums = [-7, -3, 2, 3, 11]\n\nSquare each: 49, 9, 4, 9, 121\n\nReturn sorted: [4, 9, 9, 49, 121]",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU square the numbers and return them sorted?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Square all numbers first, then sort the result",
          "next": "explore-sort"
        },
        {
          "label": "Use two pointers from both ends, compare absolute values",
          "next": "explore-two-pointers"
        },
        {
          "label": "Find where negatives end, then merge like merge sort",
          "next": "explore-merge"
        }
      ]
    },
    {
      "stepId": "explore-sort",
      "mentorSays": "That's a straightforward approach! You're thinking: \"I'll square each number, then sort the result.\"\n\nFor [-4, -1, 0, 3, 10]:\n- Square: [16, 1, 0, 9, 100]\n- Sort: [0, 1, 9, 16, 100] âœ“\n\nThis works perfectly! However, it takes O(n log n) time because of sorting.\n\nThere's a more efficient O(n) approach using two pointers that takes advantage of the fact that the input is already sorted. Would you like to learn that?",
      "choices": [
        {
          "label": "Yes, teach me the two pointers approach",
          "next": "explore-two-pointers"
        },
        {
          "label": "No, I want to code the sort approach first",
          "next": "language-selection-sort"
        }
      ]
    },
    {
      "stepId": "explore-merge",
      "mentorSays": "That's creative thinking! You're thinking: \"Since the array is sorted, I can find where negatives end, then merge the squared negatives (in reverse) with squared positives.\"\n\nFor [-4, -1, 0, 3, 10]:\n- Negatives: [-4, -1] â†’ squared and reversed: [1, 16]\n- Positives: [0, 3, 10] â†’ squared: [0, 9, 100]\n- Merge: [0, 1, 9, 16, 100] âœ“\n\nThis works! However, it's a bit complex. There's a simpler two pointers approach that works from both ends. Would you like to learn that?",
      "action": "continue",
      "next": "explore-two-pointers"
    },
    {
      "stepId": "explore-two-pointers",
      "mentorSays": "Excellent choice! The two pointers approach is both efficient and elegant. Here's the core idea:\n\n1. **Two pointers from both ends**: \n   - `left`: Starts at the beginning (most negative)\n   - `right`: Starts at the end (most positive)\n\n2. **Compare absolute values**: The larger absolute value will produce the larger square\n\n3. **Fill result from right to left**: We fill the result array backwards (largest to smallest)\n\nLet's trace this with [-4, -1, 0, 3, 10]:\n\n- **Initial**: left = 0, right = 4, resultIndex = 4\n- **Compare**: |nums[0]| = 4, |nums[4]| = 10 â†’ 10 is larger\n  - Square nums[4] = 10 â†’ 100, place at result[4]\n  - right = 3, resultIndex = 3\n- **Compare**: |nums[0]| = 4, |nums[3]| = 3 â†’ 4 is larger\n  - Square nums[0] = -4 â†’ 16, place at result[3]\n  - left = 1, resultIndex = 2\n- **Compare**: |nums[1]| = 1, |nums[3]| = 3 â†’ 3 is larger\n  - Square nums[3] = 3 â†’ 9, place at result[2]\n  - right = 2, resultIndex = 1\n- **Compare**: |nums[1]| = 1, |nums[2]| = 0 â†’ 1 is larger\n  - Square nums[1] = -1 â†’ 1, place at result[1]\n  - left = 2, resultIndex = 0\n- **Remaining**: nums[2] = 0\n  - Square 0 â†’ 0, place at result[0]\n- **Result**: [0, 1, 9, 16, 100] âœ“\n\nThis is O(n) time and O(n) space! Now let's code it step by step.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code the two pointers solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'let left = 0;' creates a variable that stores the number 0. Later, you can use that variable name to refer to it.",
      "example": "let left = 0;\n\nNow the variable refers to the number 0\nWe can use the variable name to access this value",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "parameter-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "parameter-check-js"
    },
    {
      "stepId": "parameter-check-js",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {
          "label": "Yes, I know parameters",
          "next": "loop-check-js"
        },
        {
          "label": "No, explain parameters",
          "next": "parameter-explanation-js"
        }
      ]
    },
    {
      "stepId": "parameter-explanation-js",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function sortedSquares(nums)', the 'nums' is a parameter - it's a placeholder that will receive an actual array when you call the function.",
      "example": "function sortedSquares(nums) {\n  // 'nums' is a parameter\n}\n\n// When we call it:\nsortedSquares([-4, -1, 0, 3, 10]);\n// The array goes into 'nums'",
      "action": "continue",
      "next": "loop-check-js"
    },
    {
      "stepId": "loop-check-js",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know loops",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain loops",
          "next": "loop-explanation-js"
        }
      ]
    },
    {
      "stepId": "loop-explanation-js",
      "mentorSays": "A loop lets you repeat code multiple times. A 'for' loop runs code for each item in a sequence.\n\nFor example, 'for (let i = 0; i < 3; i++)' means: start at 0, keep going while i is less than 3, and add 1 to i each time.",
      "example": "for (let i = 0; i < 3; i++) {\n  console.log(i);\n}\n\nThis prints: 0, 1, 2",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement the sorted squares solution in JavaScript. We'll create a function that takes an array and returns the squares in sorted order.",
      "example": "function sortedSquares(nums) {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-result-array-js"
    },
    {
      "stepId": "coding-result-array-js",
      "mentorSays": "First, let's create a result array to store our squared values. We'll fill it from right to left (largest to smallest).",
      "example": "function sortedSquares(nums) {\n  const result = new Array(nums.length);\n  // result will store squared values in sorted order\n}",
      "action": "continue",
      "next": "coding-pointers-js"
    },
    {
      "stepId": "coding-pointers-js",
      "mentorSays": "Now, let's initialize our two pointers: left starts at the beginning, right starts at the end. We'll also track where to write in the result array (starting from the end).",
      "example": "function sortedSquares(nums) {\n  const result = new Array(nums.length);\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n  // left and right will move towards each other\n  // resultIndex will move from end to beginning\n}",
      "action": "continue",
      "next": "coding-loop-js"
    },
    {
      "stepId": "coding-loop-js",
      "mentorSays": "Now, let's loop while left <= right. At each step, we compare the absolute values of nums[left] and nums[right]. The larger absolute value produces the larger square, so we square it and place it at resultIndex, then move the pointers accordingly.",
      "example": "function sortedSquares(nums) {\n  const result = new Array(nums.length);\n  let left = 0;\n  let right = nums.length - 1;\n  let resultIndex = nums.length - 1;\n  \n  while (left <= right) {\n    const leftSquare = nums[left] * nums[left];\n    const rightSquare = nums[right] * nums[right];\n    \n    if (leftSquare > rightSquare) {\n      result[resultIndex] = leftSquare;\n      left++;\n    } else {\n      result[resultIndex] = rightSquare;\n      right--;\n    }\n    resultIndex--;\n  }\n  \n  return result;\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]\n\nBecause:\n- Squares: 16, 1, 0, 9, 100\n- Sorted: [0, 1, 9, 16, 100]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {"label": "Yes, I know variables", "next": "function-check-python"},
        {"label": "No, explain variables", "next": "variable-explanation-python"}
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'left = 0' creates a variable that stores the number 0. Later, you can use that variable name to refer to it.",
      "example": "left = 0\n\nNow the variable refers to the number 0\nWe can use the variable name to access this value",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {"label": "Yes, I know functions", "next": "parameter-check-python"},
        {"label": "No, explain functions", "next": "function-explanation-python"}
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.\n\nThink of it like a recipe: you provide ingredients (parameters), the function does the work, and gives you a result (return value).",
      "example": "def add(a, b):\n    return a + b\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "parameter-check-python"
    },
    {
      "stepId": "parameter-check-python",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {"label": "Yes, I know parameters", "next": "loop-check-python"},
        {"label": "No, explain parameters", "next": "parameter-explanation-python"}
      ]
    },
    {
      "stepId": "parameter-explanation-python",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'def sorted_squares(nums):', the 'nums' is a parameter - it's a placeholder that will receive an actual list when you call the function.",
      "example": "def sorted_squares(nums):\n  # 'nums' is a parameter\n\n# When we call it:\nsorted_squares([-4, -1, 0, 3, 10])\n# The list goes into 'nums'",
      "action": "continue",
      "next": "loop-check-python"
    },
    {
      "stepId": "loop-check-python",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Python?",
      "choices": [
        {"label": "Yes, I know loops", "next": "coding-start-python"},
        {"label": "No, explain loops", "next": "loop-explanation-python"}
      ]
    },
    {
      "stepId": "loop-explanation-python",
      "mentorSays": "A loop lets you repeat code multiple times. A 'while' loop in Python runs code while a condition is true.\n\nFor example, 'while left <= right:' means: keep running the code as long as left is less than or equal to right.",
      "example": "while left <= right:\n    # Process elements\n    left += 1",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement the sorted squares solution in Python. We'll create a function that takes a list and returns the squares in sorted order.",
      "example": "def sorted_squares(nums):\n    # Your code here\n    pass",
      "action": "continue",
      "next": "coding-result-array-python"
    },
    {
      "stepId": "coding-result-array-python",
      "mentorSays": "First, let's create a result list to store our squared values. We'll fill it from right to left (largest to smallest).",
      "example": "def sorted_squares(nums):\n    result = [0] * len(nums)\n    # result will store squared values in sorted order",
      "action": "continue",
      "next": "coding-pointers-python"
    },
    {
      "stepId": "coding-pointers-python",
      "mentorSays": "Now, let's initialize our two pointers: left starts at the beginning, right starts at the end. We'll also track where to write in the result list (starting from the end).",
      "example": "def sorted_squares(nums):\n    result = [0] * len(nums)\n    left = 0\n    right = len(nums) - 1\n    result_index = len(nums) - 1\n    # left and right will move towards each other\n    # result_index will move from end to beginning",
      "action": "continue",
      "next": "coding-loop-python"
    },
    {
      "stepId": "coding-loop-python",
      "mentorSays": "Now, let's loop while left <= right. At each step, we compare the absolute values of nums[left] and nums[right]. The larger absolute value produces the larger square, so we square it and place it at result_index, then move the pointers accordingly.",
      "example": "def sorted_squares(nums):\n    result = [0] * len(nums)\n    left = 0\n    right = len(nums) - 1\n    result_index = len(nums) - 1\n    \n    while left <= right:\n        left_square = nums[left] * nums[left]\n        right_square = nums[right] * nums[right]\n        \n        if left_square > right_square:\n            result[result_index] = left_square\n            left += 1\n        else:\n            result[result_index] = right_square\n            right -= 1\n        result_index -= 1\n    \n    return result",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {"label": "Yes, I know variables", "next": "function-check-java"},
        {"label": "No, explain variables", "next": "variable-explanation-java"}
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'int left = 0;' creates a variable that stores the number 0.",
      "example": "int left = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {"label": "Yes, I know methods", "next": "parameter-check-java"},
        {"label": "No, explain methods", "next": "function-explanation-java"}
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A method (Java's version of a function) is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "public int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "parameter-check-java"
    },
    {
      "stepId": "parameter-check-java",
      "mentorSays": "When we write a method, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {"label": "Yes, I know parameters", "next": "loop-check-java"},
        {"label": "No, explain parameters", "next": "parameter-explanation-java"}
      ]
    },
    {
      "stepId": "parameter-explanation-java",
      "mentorSays": "Parameters are like variables that receive values when you call the method. When you write 'public int[] sortedSquares(int[] nums)', the 'nums' is a parameter.",
      "example": "public int[] sortedSquares(int[] nums) {\n  // 'nums' is a parameter\n}",
      "action": "continue",
      "next": "loop-check-java"
    },
    {
      "stepId": "loop-check-java",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in Java?",
      "choices": [
        {"label": "Yes, I know loops", "next": "coding-start-java"},
        {"label": "No, explain loops", "next": "loop-explanation-java"}
      ]
    },
    {
      "stepId": "loop-explanation-java",
      "mentorSays": "A loop lets you repeat code multiple times. A 'while' loop runs code while a condition is true.",
      "example": "while (left <= right) {\n    // Process elements\n    left++;\n}",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement the sorted squares solution in Java. We'll create a method that takes an array and returns the squares in sorted order.",
      "example": "public int[] sortedSquares(int[] nums) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-result-array-java"
    },
    {
      "stepId": "coding-result-array-java",
      "mentorSays": "First, let's create a result array to store our squared values.",
      "example": "public int[] sortedSquares(int[] nums) {\n    int[] result = new int[nums.length];\n    // result will store squared values in sorted order",
      "action": "continue",
      "next": "coding-pointers-java"
    },
    {
      "stepId": "coding-pointers-java",
      "mentorSays": "Now, let's initialize our two pointers: left starts at the beginning, right starts at the end. We'll also track where to write in the result array.",
      "example": "public int[] sortedSquares(int[] nums) {\n    int[] result = new int[nums.length];\n    int left = 0;\n    int right = nums.length - 1;\n    int resultIndex = nums.length - 1;",
      "action": "continue",
      "next": "coding-loop-java"
    },
    {
      "stepId": "coding-loop-java",
      "mentorSays": "Now, let's loop while left <= right. At each step, we compare the squares of nums[left] and nums[right]. The larger square goes at resultIndex.",
      "example": "public int[] sortedSquares(int[] nums) {\n    int[] result = new int[nums.length];\n    int left = 0;\n    int right = nums.length - 1;\n    int resultIndex = nums.length - 1;\n    \n    while (left <= right) {\n        int leftSquare = nums[left] * nums[left];\n        int rightSquare = nums[right] * nums[right];\n        \n        if (leftSquare > rightSquare) {\n            result[resultIndex] = leftSquare;\n            left++;\n        } else {\n            result[resultIndex] = rightSquare;\n            right--;\n        }\n        resultIndex--;\n    }\n    \n    return result;\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {"label": "Yes, I know variables", "next": "function-check-cpp"},
        {"label": "No, explain variables", "next": "variable-explanation-cpp"}
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'int left = 0;' creates a variable that stores the number 0.",
      "example": "int left = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {"label": "Yes, I know functions", "next": "parameter-check-cpp"},
        {"label": "No, explain functions", "next": "function-explanation-cpp"}
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "parameter-check-cpp"
    },
    {
      "stepId": "parameter-check-cpp",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {"label": "Yes, I know parameters", "next": "loop-check-cpp"},
        {"label": "No, explain parameters", "next": "parameter-explanation-cpp"}
      ]
    },
    {
      "stepId": "parameter-explanation-cpp",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'vector<int> sortedSquares(vector<int>& nums)', the 'nums' is a parameter.",
      "example": "vector<int> sortedSquares(vector<int>& nums) {\n  // 'nums' is a parameter\n}",
      "action": "continue",
      "next": "loop-check-cpp"
    },
    {
      "stepId": "loop-check-cpp",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in C++?",
      "choices": [
        {"label": "Yes, I know loops", "next": "coding-start-cpp"},
        {"label": "No, explain loops", "next": "loop-explanation-cpp"}
      ]
    },
    {
      "stepId": "loop-explanation-cpp",
      "mentorSays": "A loop lets you repeat code multiple times. A 'while' loop runs code while a condition is true.",
      "example": "while (left <= right) {\n    // Process elements\n    left++;\n}",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement the sorted squares solution in C++. We'll create a function that takes a vector and returns the squares in sorted order.",
      "example": "vector<int> sortedSquares(vector<int>& nums) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-result-array-cpp"
    },
    {
      "stepId": "coding-result-array-cpp",
      "mentorSays": "First, let's create a result vector to store our squared values.",
      "example": "vector<int> sortedSquares(vector<int>& nums) {\n    vector<int> result(nums.size());\n    // result will store squared values in sorted order",
      "action": "continue",
      "next": "coding-pointers-cpp"
    },
    {
      "stepId": "coding-pointers-cpp",
      "mentorSays": "Now, let's initialize our two pointers: left starts at the beginning, right starts at the end. We'll also track where to write in the result vector.",
      "example": "vector<int> sortedSquares(vector<int>& nums) {\n    vector<int> result(nums.size());\n    int left = 0;\n    int right = nums.size() - 1;\n    int resultIndex = nums.size() - 1;",
      "action": "continue",
      "next": "coding-loop-cpp"
    },
    {
      "stepId": "coding-loop-cpp",
      "mentorSays": "Now, let's loop while left <= right. At each step, we compare the squares of nums[left] and nums[right]. The larger square goes at resultIndex.",
      "example": "vector<int> sortedSquares(vector<int>& nums) {\n    vector<int> result(nums.size());\n    int left = 0;\n    int right = nums.size() - 1;\n    int resultIndex = nums.size() - 1;\n    \n    while (left <= right) {\n        int leftSquare = nums[left] * nums[left];\n        int rightSquare = nums[right] * nums[right];\n        \n        if (leftSquare > rightSquare) {\n            result[resultIndex] = leftSquare;\n            left++;\n        } else {\n            result[resultIndex] = rightSquare;\n            right--;\n        }\n        resultIndex--;\n    }\n    \n    return result;\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {"label": "Yes, I know variables", "next": "function-check-ts"},
        {"label": "No, explain variables", "next": "variable-explanation-ts"}
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'right') and put data inside it.\n\nFor example, 'let left: number = 0;' creates a variable that stores the number 0.",
      "example": "let left: number = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {"label": "Yes, I know functions", "next": "parameter-check-ts"},
        {"label": "No, explain functions", "next": "function-explanation-ts"}
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "function add(a: number, b: number): number {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "parameter-check-ts"
    },
    {
      "stepId": "parameter-check-ts",
      "mentorSays": "When we write a function, we can give it inputs. These inputs are called 'parameters'. Do you know what parameters are?",
      "choices": [
        {"label": "Yes, I know parameters", "next": "loop-check-ts"},
        {"label": "No, explain parameters", "next": "parameter-explanation-ts"}
      ]
    },
    {
      "stepId": "parameter-explanation-ts",
      "mentorSays": "Parameters are like variables that receive values when you call the function. When you write 'function sortedSquares(nums: number[]): number[]', the 'nums' is a parameter.",
      "example": "function sortedSquares(nums: number[]): number[] {\n  // 'nums' is a parameter\n}",
      "action": "continue",
      "next": "loop-check-ts"
    },
    {
      "stepId": "loop-check-ts",
      "mentorSays": "To solve this problem, we'll need to use loops. Do you know what a loop is in TypeScript?",
      "choices": [
        {"label": "Yes, I know loops", "next": "coding-start-ts"},
        {"label": "No, explain loops", "next": "loop-explanation-ts"}
      ]
    },
    {
      "stepId": "loop-explanation-ts",
      "mentorSays": "A loop lets you repeat code multiple times. A 'while' loop runs code while a condition is true.",
      "example": "while (left <= right) {\n    // Process elements\n    left++;\n}",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement the sorted squares solution in TypeScript. We'll create a function that takes an array and returns the squares in sorted order.",
      "example": "function sortedSquares(nums: number[]): number[] {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-result-array-ts"
    },
    {
      "stepId": "coding-result-array-ts",
      "mentorSays": "First, let's create a result array to store our squared values.",
      "example": "function sortedSquares(nums: number[]): number[] {\n  const result: number[] = new Array(nums.length);\n  // result will store squared values in sorted order",
      "action": "continue",
      "next": "coding-pointers-ts"
    },
    {
      "stepId": "coding-pointers-ts",
      "mentorSays": "Now, let's initialize our two pointers: left starts at the beginning, right starts at the end. We'll also track where to write in the result array.",
      "example": "function sortedSquares(nums: number[]): number[] {\n  const result: number[] = new Array(nums.length);\n  let left: number = 0;\n  let right: number = nums.length - 1;\n  let resultIndex: number = nums.length - 1;",
      "action": "continue",
      "next": "coding-loop-ts"
    },
    {
      "stepId": "coding-loop-ts",
      "mentorSays": "Now, let's loop while left <= right. At each step, we compare the squares of nums[left] and nums[right]. The larger square goes at resultIndex.",
      "example": "function sortedSquares(nums: number[]): number[] {\n  const result: number[] = new Array(nums.length);\n  let left: number = 0;\n  let right: number = nums.length - 1;\n  let resultIndex: number = nums.length - 1;\n  \n  while (left <= right) {\n    const leftSquare = nums[left] * nums[left];\n    const rightSquare = nums[right] * nums[right];\n    \n    if (leftSquare > rightSquare) {\n      result[resultIndex] = leftSquare;\n      left++;\n    } else {\n      result[resultIndex] = rightSquare;\n      right--;\n    }\n    resultIndex--;\n  }\n  \n  return result;\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [-4, -1, 0, 3, 10]\n\nExpected output: [0, 1, 9, 16, 100]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've learned to solve the Squares of Sorted Array problem. You understand how to use two pointers from both ends to efficiently build a sorted result without actually sorting.\n\nThis patternâ€”comparing elements from both ends and building a resultâ€”is useful for many problems. Keep practicing!",
      "action": "continue"
    },
    {
      "stepId": "language-selection-sort",
      "mentorSays": "Great! The sort approach works well. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "coding-sort-js"
        },
        {
          "label": "Python",
          "next": "coding-sort-python"
        },
        {
          "label": "Java",
          "next": "coding-sort-java"
        },
        {
          "label": "C++",
          "next": "coding-sort-cpp"
        },
        {
          "label": "TypeScript",
          "next": "coding-sort-ts"
        }
      ]
    },
    {
      "stepId": "coding-sort-js",
      "mentorSays": "The sort approach: square each number, then sort. Simple and works!",
      "example": "function sortedSquares(nums) {\n  return nums.map(num => num * num).sort((a, b) => a - b);\n}",
      "action": "continue",
      "next": "recommend-two-pointers"
    },
    {
      "stepId": "recommend-two-pointers",
      "mentorSays": "Great job! The sort approach works perfectly. However, there's a more efficient O(n) approach using two pointers that takes advantage of the input being sorted.\n\nWould you like to learn the two pointers approach?",
      "choices": [
        {
          "label": "Yes, teach me the two pointers approach",
          "next": "explore-two-pointers"
        },
        {
          "label": "No, I'm done for now",
          "next": "final"
        }
      ]
    }
  ]
}