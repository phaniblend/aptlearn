{
  "id": "sort-colors",
  "title": "Sort colors (Dutch flag variant)",
  "pattern": "sorting",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand how to sort an array with only 3 distinct values\n2. Use three pointers to partition the array into three sections\n3. Sort in one pass without using extra space\n4. Implement the solution step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what the Sort Colors problem is asking.\n\nImagine you have an array: [2, 0, 2, 1, 1, 0]\n\nEach number represents a color:\n- 0 = Red\n- 1 = White\n- 2 = Blue\n\nYour task: Sort the array so all 0s come first, then all 1s, then all 2s - in one pass and without using extra space!\n\nLet's trace through the algorithm using three pointers:\n\n**Initial**: [2, 0, 2, 1, 1, 0]\n- left = 0 (boundary for 0s - everything before left is 0)\n- current = 0 (current element being processed)\n- right = 5 (boundary for 2s - everything after right is 2)\n\n**Step 1** (current=0, nums[0]=2):\n- nums[0] = 2, swap with nums[right], right--\n- Array: [0, 0, 2, 1, 1, 2], current=0, right=4\n\n**Step 2** (current=0, nums[0]=0):\n- nums[0] = 0, swap with nums[left], left++, current++\n- Array: [0, 0, 2, 1, 1, 2], left=1, current=1\n\n**Step 3** (current=1, nums[1]=0):\n- nums[1] = 0, swap with nums[left], left++, current++\n- Array: [0, 0, 2, 1, 1, 2], left=2, current=2\n\n**Step 4** (current=2, nums[2]=2):\n- nums[2] = 2, swap with nums[right], right--\n- Array: [0, 0, 1, 1, 2, 2], current=2, right=3\n\n**Step 5** (current=2, nums[2]=1):\n- nums[2] = 1, keep it (1s go in middle), current++\n- Array: [0, 0, 1, 1, 2, 2], current=3\n\n**Step 6** (current=3, nums[3]=1):\n- nums[3] = 1, keep it, current++\n- Array: [0, 0, 1, 1, 2, 2], current=4\n\n**Final**: [0, 0, 1, 1, 2, 2] (sorted!)\n\nAll 0s are at the front, all 1s in the middle, all 2s at the end!",
      "example": "nums = [2, 0, 2, 1, 1, 0]\n\nThree pointers: left=0, current=0, right=5\n\nStep 1: nums[0]=2 â†’ swap with nums[5], right-- â†’ [0, 0, 2, 1, 1, 2]\nStep 2: nums[0]=0 â†’ swap with nums[0], left++, current++ â†’ [0, 0, 2, 1, 1, 2]\nStep 3: nums[1]=0 â†’ swap with nums[1], left++, current++ â†’ [0, 0, 2, 1, 1, 2]\nStep 4: nums[2]=2 â†’ swap with nums[4], right-- â†’ [0, 0, 1, 1, 2, 2]\nStep 5-6: nums[2-3]=1 â†’ keep, current++\n\nFinal: [0, 0, 1, 1, 2, 2]",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU sort an array with only 0s, 1s, and 2s?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Use three pointers: left for 0s, current to scan, right for 2s",
          "next": "explore-three-pointers"
        },
        {
          "label": "Count occurrences of 0, 1, 2, then rebuild the array",
          "next": "explore-counting"
        },
        {
          "label": "Use a standard sorting algorithm",
          "next": "explore-standard-sort"
        }
      ]
    },
    {
      "stepId": "explore-counting",
      "mentorSays": "That's a straightforward approach! You're thinking: \"I'll count how many 0s, 1s, and 2s there are, then rebuild the array.\"\n\nFor [2, 0, 2, 1, 1, 0]:\n- Count: 0s=2, 1s=2, 2s=2\n- Rebuild: [0, 0, 1, 1, 2, 2]\n\nThis works! However, it requires two passes (one to count, one to rebuild).\n\nWould you like to learn the three pointers approach that does it in one pass?",
      "action": "continue",
      "next": "explore-three-pointers"
    },
    {
      "stepId": "explore-standard-sort",
      "mentorSays": "Standard sorting algorithms like quicksort or merge sort work, but they're O(n log n) time. Since we only have 3 distinct values, we can do better!\n\nLet's learn the three pointers approach, which is O(n) time and O(1) space - perfect for this problem!",
      "action": "continue",
      "next": "explore-three-pointers"
    },
    {
      "stepId": "explore-three-pointers",
      "mentorSays": "Excellent choice! The three pointers approach is elegant and efficient. Here's the core idea:\n\n1. **Three pointers**:\n   - `left`: Boundary for 0s (everything before left is 0)\n   - `current`: Current element being processed\n   - `right`: Boundary for 2s (everything after right is 2)\n\n2. **Process**: While current â‰¤ right:\n   - If nums[current] == 0: Swap with nums[left], move left and current forward\n   - If nums[current] == 1: Keep it (1s go in middle), move current forward\n   - If nums[current] == 2: Swap with nums[right], move right backward (don't move current yet!)\n\nLet's trace this with [2, 0, 2, 1, 1, 0]:\n\n- **Initial**: left=0, current=0, right=5\n- **current=0, nums[0]=2**: Swap with nums[5], right=4 â†’ [0, 0, 2, 1, 1, 2]\n- **current=0, nums[0]=0**: Swap with nums[0], left=1, current=1 â†’ [0, 0, 2, 1, 1, 2]\n- **current=1, nums[1]=0**: Swap with nums[1], left=2, current=2 â†’ [0, 0, 2, 1, 1, 2]\n- **current=2, nums[2]=2**: Swap with nums[4], right=3 â†’ [0, 0, 1, 1, 2, 2]\n- **current=2, nums[2]=1**: Keep, current=3 â†’ [0, 0, 1, 1, 2, 2]\n- **current=3, nums[3]=1**: Keep, current=4 â†’ [0, 0, 1, 1, 2, 2]\n- **current=4 > right=3**: Stop\n\nThis is O(n) time and O(1) space! Now let's code it step by step.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'current') and put data inside it.\n\nFor example, 'let left = 0;' creates a variable that stores the number 0. Later, you can use that variable name to refer to it.",
      "example": "let left = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-js"
    },
    {
      "stepId": "array-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what an array is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-js"
        }
      ]
    },
    {
      "stepId": "array-explanation-js",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0.",
      "example": "arr = [1, 2, 3]\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement sort colors in JavaScript. We'll create a function that uses three pointers to sort the array in-place.",
      "example": "function sortColors(nums) {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-initialize-pointers-js"
    },
    {
      "stepId": "coding-initialize-pointers-js",
      "mentorSays": "Initialize three pointers: left (boundary for 0s), current (scanner), and right (boundary for 2s).",
      "example": "function sortColors(nums) {\n  let left = 0;        // Boundary for 0s\n  let current = 0;      // Current element being processed\n  let right = nums.length - 1;  // Boundary for 2s\n}",
      "action": "continue",
      "next": "coding-loop-js"
    },
    {
      "stepId": "coding-loop-js",
      "mentorSays": "Create a loop that processes elements while current â‰¤ right. We'll handle each case inside the loop.",
      "example": "function sortColors(nums) {\n  let left = 0;\n  let current = 0;\n  let right = nums.length - 1;\n  \n  while (current <= right) {\n    // Process nums[current]\n  }\n}",
      "action": "continue",
      "next": "coding-handle-zero-js"
    },
    {
      "stepId": "coding-handle-zero-js",
      "mentorSays": "If the current element is 0, swap it with the element at left, then move both left and current forward.",
      "example": "function sortColors(nums) {\n  // ... pointers and loop ...\n  \n  while (current <= right) {\n    if (nums[current] === 0) {\n      // Swap with left\n      [nums[current], nums[left]] = [nums[left], nums[current]];\n      left++;\n      current++;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-handle-one-js"
    },
    {
      "stepId": "coding-handle-one-js",
      "mentorSays": "If the current element is 1, keep it (1s belong in the middle), just move current forward.",
      "example": "function sortColors(nums) {\n  // ... handle 0 ...\n  \n  while (current <= right) {\n    if (nums[current] === 0) {\n      [nums[current], nums[left]] = [nums[left], nums[current]];\n      left++;\n      current++;\n    } else if (nums[current] === 1) {\n      // Keep 1 in place, just move forward\n      current++;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-handle-two-js"
    },
    {
      "stepId": "coding-handle-two-js",
      "mentorSays": "If the current element is 2, swap it with the element at right, then move right backward. Don't move current yet - we need to check the swapped element!",
      "example": "function sortColors(nums) {\n  // ... handle 0 and 1 ...\n  \n  while (current <= right) {\n    if (nums[current] === 0) {\n      [nums[current], nums[left]] = [nums[left], nums[current]];\n      left++;\n      current++;\n    } else if (nums[current] === 1) {\n      current++;\n    } else {  // nums[current] === 2\n      // Swap with right\n      [nums[current], nums[right]] = [nums[right], nums[current]];\n      right--;\n      // Don't increment current - check the swapped element!\n    }\n  }\n}",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter calling sortColors(nums), the array should be:\n[0, 0, 1, 1, 2, 2]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter sortColors(nums):\nnums = [0, 0, 1, 1, 2, 2]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'current') and put data inside it.\n\nFor example, 'left = 0' creates a variable that stores the number 0.",
      "example": "left = 0\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "def add(a, b):\n    return a + b\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-python"
    },
    {
      "stepId": "array-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a list is in Python?",
      "choices": [
        {
          "label": "Yes, I know lists",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain lists",
          "next": "array-explanation-python"
        }
      ]
    },
    {
      "stepId": "array-explanation-python",
      "mentorSays": "A list is like an array - a collection of items that keeps them in order. Each item has a position number called an 'index'. List indices start counting from 0.",
      "example": "arr = [1, 2, 3]\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement sort colors in Python. We'll create a function that uses three pointers to sort the list in-place.",
      "example": "def sort_colors(nums):\n    # Your code here\n    pass",
      "action": "continue",
      "next": "coding-initialize-pointers-python"
    },
    {
      "stepId": "coding-initialize-pointers-python",
      "mentorSays": "Initialize three pointers: left (boundary for 0s), current (scanner), and right (boundary for 2s).",
      "example": "def sort_colors(nums):\n    left = 0        # Boundary for 0s\n    current = 0     # Current element being processed\n    right = len(nums) - 1  # Boundary for 2s",
      "action": "continue",
      "next": "coding-loop-python"
    },
    {
      "stepId": "coding-loop-python",
      "mentorSays": "Create a loop that processes elements while current â‰¤ right. We'll handle each case inside the loop.",
      "example": "def sort_colors(nums):\n    left = 0\n    current = 0\n    right = len(nums) - 1\n    \n    while current <= right:\n        # Process nums[current]\n        pass",
      "action": "continue",
      "next": "coding-handle-zero-python"
    },
    {
      "stepId": "coding-handle-zero-python",
      "mentorSays": "If the current element is 0, swap it with the element at left, then move both left and current forward.",
      "example": "def sort_colors(nums):\n    # ... pointers and loop ...\n    \n    while current <= right:\n        if nums[current] == 0:\n            # Swap with left\n            nums[current], nums[left] = nums[left], nums[current]\n            left += 1\n            current += 1",
      "action": "continue",
      "next": "coding-handle-one-python"
    },
    {
      "stepId": "coding-handle-one-python",
      "mentorSays": "If the current element is 1, keep it (1s belong in the middle), just move current forward.",
      "example": "def sort_colors(nums):\n    # ... handle 0 ...\n    \n    while current <= right:\n        if nums[current] == 0:\n            nums[current], nums[left] = nums[left], nums[current]\n            left += 1\n            current += 1\n        elif nums[current] == 1:\n            # Keep 1 in place, just move forward\n            current += 1",
      "action": "continue",
      "next": "coding-handle-two-python"
    },
    {
      "stepId": "coding-handle-two-python",
      "mentorSays": "If the current element is 2, swap it with the element at right, then move right backward. Don't move current yet - we need to check the swapped element!",
      "example": "def sort_colors(nums):\n    # ... handle 0 and 1 ...\n    \n    while current <= right:\n        if nums[current] == 0:\n            nums[current], nums[left] = nums[left], nums[current]\n            left += 1\n            current += 1\n        elif nums[current] == 1:\n            current += 1\n        else:  # nums[current] == 2\n            # Swap with right\n            nums[current], nums[right] = nums[right], nums[current]\n            right -= 1\n            # Don't increment current - check the swapped element!",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter calling sort_colors(nums), the list should be:\n[0, 0, 1, 1, 2, 2]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter sort_colors(nums):\nnums = [0, 0, 1, 1, 2, 2]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'current') and put data inside it.\n\nFor example, 'int left = 0;' creates a variable that stores the number 0.",
      "example": "int left = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know methods",
          "next": "array-check-java"
        },
        {
          "label": "No, explain methods",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A method is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "public int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-java"
    },
    {
      "stepId": "array-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what an array is in Java?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-java"
        }
      ]
    },
    {
      "stepId": "array-explanation-java",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0.",
      "example": "int[] arr = {1, 2, 3};\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement sort colors in Java. We'll create a method that uses three pointers to sort the array in-place.",
      "example": "public void sortColors(int[] nums) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-initialize-pointers-java"
    },
    {
      "stepId": "coding-initialize-pointers-java",
      "mentorSays": "Initialize three pointers: left (boundary for 0s), current (scanner), and right (boundary for 2s).",
      "example": "public void sortColors(int[] nums) {\n    int left = 0;        // Boundary for 0s\n    int current = 0;     // Current element being processed\n    int right = nums.length - 1;  // Boundary for 2s\n}",
      "action": "continue",
      "next": "coding-loop-java"
    },
    {
      "stepId": "coding-loop-java",
      "mentorSays": "Create a loop that processes elements while current â‰¤ right. We'll handle each case inside the loop.",
      "example": "public void sortColors(int[] nums) {\n    int left = 0;\n    int current = 0;\n    int right = nums.length - 1;\n    \n    while (current <= right) {\n        // Process nums[current]\n    }\n}",
      "action": "continue",
      "next": "coding-handle-zero-java"
    },
    {
      "stepId": "coding-handle-zero-java",
      "mentorSays": "If the current element is 0, swap it with the element at left, then move both left and current forward.",
      "example": "public void sortColors(int[] nums) {\n    // ... pointers and loop ...\n    \n    while (current <= right) {\n        if (nums[current] == 0) {\n            // Swap with left\n            int temp = nums[current];\n            nums[current] = nums[left];\n            nums[left] = temp;\n            left++;\n            current++;\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-handle-one-java"
    },
    {
      "stepId": "coding-handle-one-java",
      "mentorSays": "If the current element is 1, keep it (1s belong in the middle), just move current forward.",
      "example": "public void sortColors(int[] nums) {\n    // ... handle 0 ...\n    \n    while (current <= right) {\n        if (nums[current] == 0) {\n            int temp = nums[current];\n            nums[current] = nums[left];\n            nums[left] = temp;\n            left++;\n            current++;\n        } else if (nums[current] == 1) {\n            // Keep 1 in place, just move forward\n            current++;\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-handle-two-java"
    },
    {
      "stepId": "coding-handle-two-java",
      "mentorSays": "If the current element is 2, swap it with the element at right, then move right backward. Don't move current yet - we need to check the swapped element!",
      "example": "public void sortColors(int[] nums) {\n    // ... handle 0 and 1 ...\n    \n    while (current <= right) {\n        if (nums[current] == 0) {\n            int temp = nums[current];\n            nums[current] = nums[left];\n            nums[left] = temp;\n            left++;\n            current++;\n        } else if (nums[current] == 1) {\n            current++;\n        } else {  // nums[current] == 2\n            // Swap with right\n            int temp = nums[current];\n            nums[current] = nums[right];\n            nums[right] = temp;\n            right--;\n            // Don't increment current - check the swapped element!\n        }\n    }\n}",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter calling sortColors(nums), the array should be:\n[0, 0, 1, 1, 2, 2]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter sortColors(nums):\nnums = [0, 0, 1, 1, 2, 2]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'current') and put data inside it.\n\nFor example, 'int left = 0;' creates a variable that stores the number 0.",
      "example": "int left = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-cpp"
    },
    {
      "stepId": "array-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a vector is in C++?",
      "choices": [
        {
          "label": "Yes, I know vectors",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain vectors",
          "next": "array-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "array-explanation-cpp",
      "mentorSays": "A vector is like an array - a collection of items that keeps them in order. Each item has a position number called an 'index'. Vector indices start counting from 0.",
      "example": "vector<int> arr = {1, 2, 3};\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement sort colors in C++. We'll create a function that uses three pointers to sort the vector in-place.",
      "example": "void sortColors(vector<int>& nums) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-initialize-pointers-cpp"
    },
    {
      "stepId": "coding-initialize-pointers-cpp",
      "mentorSays": "Initialize three pointers: left (boundary for 0s), current (scanner), and right (boundary for 2s).",
      "example": "void sortColors(vector<int>& nums) {\n    int left = 0;        // Boundary for 0s\n    int current = 0;     // Current element being processed\n    int right = nums.size() - 1;  // Boundary for 2s\n}",
      "action": "continue",
      "next": "coding-loop-cpp"
    },
    {
      "stepId": "coding-loop-cpp",
      "mentorSays": "Create a loop that processes elements while current â‰¤ right. We'll handle each case inside the loop.",
      "example": "void sortColors(vector<int>& nums) {\n    int left = 0;\n    int current = 0;\n    int right = nums.size() - 1;\n    \n    while (current <= right) {\n        // Process nums[current]\n    }\n}",
      "action": "continue",
      "next": "coding-handle-zero-cpp"
    },
    {
      "stepId": "coding-handle-zero-cpp",
      "mentorSays": "If the current element is 0, swap it with the element at left, then move both left and current forward.",
      "example": "void sortColors(vector<int>& nums) {\n    // ... pointers and loop ...\n    \n    while (current <= right) {\n        if (nums[current] == 0) {\n            // Swap with left\n            swap(nums[current], nums[left]);\n            left++;\n            current++;\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-handle-one-cpp"
    },
    {
      "stepId": "coding-handle-one-cpp",
      "mentorSays": "If the current element is 1, keep it (1s belong in the middle), just move current forward.",
      "example": "void sortColors(vector<int>& nums) {\n    // ... handle 0 ...\n    \n    while (current <= right) {\n        if (nums[current] == 0) {\n            swap(nums[current], nums[left]);\n            left++;\n            current++;\n        } else if (nums[current] == 1) {\n            // Keep 1 in place, just move forward\n            current++;\n        }\n    }\n}",
      "action": "continue",
      "next": "coding-handle-two-cpp"
    },
    {
      "stepId": "coding-handle-two-cpp",
      "mentorSays": "If the current element is 2, swap it with the element at right, then move right backward. Don't move current yet - we need to check the swapped element!",
      "example": "void sortColors(vector<int>& nums) {\n    // ... handle 0 and 1 ...\n    \n    while (current <= right) {\n        if (nums[current] == 0) {\n            swap(nums[current], nums[left]);\n            left++;\n            current++;\n        } else if (nums[current] == 1) {\n            current++;\n        } else {  // nums[current] == 2\n            // Swap with right\n            swap(nums[current], nums[right]);\n            right--;\n            // Don't increment current - check the swapped element!\n        }\n    }\n}",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter calling sortColors(nums), the vector should be:\n[0, 0, 1, 1, 2, 2]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter sortColors(nums):\nnums = [0, 0, 1, 1, 2, 2]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'left' or 'current') and put data inside it.\n\nFor example, 'let left: number = 0;' creates a variable that stores the number 0.",
      "example": "let left: number = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "function add(a: number, b: number): number {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-ts"
    },
    {
      "stepId": "array-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what an array is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-ts"
        }
      ]
    },
    {
      "stepId": "array-explanation-ts",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0.",
      "example": "arr: number[] = [1, 2, 3]\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement sort colors in TypeScript. We'll create a function that uses three pointers to sort the array in-place.",
      "example": "function sortColors(nums: number[]): void {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-initialize-pointers-ts"
    },
    {
      "stepId": "coding-initialize-pointers-ts",
      "mentorSays": "Initialize three pointers: left (boundary for 0s), current (scanner), and right (boundary for 2s).",
      "example": "function sortColors(nums: number[]): void {\n  let left: number = 0;        // Boundary for 0s\n  let current: number = 0;     // Current element being processed\n  let right: number = nums.length - 1;  // Boundary for 2s\n}",
      "action": "continue",
      "next": "coding-loop-ts"
    },
    {
      "stepId": "coding-loop-ts",
      "mentorSays": "Create a loop that processes elements while current â‰¤ right. We'll handle each case inside the loop.",
      "example": "function sortColors(nums: number[]): void {\n  let left: number = 0;\n  let current: number = 0;\n  let right: number = nums.length - 1;\n  \n  while (current <= right) {\n    // Process nums[current]\n  }\n}",
      "action": "continue",
      "next": "coding-handle-zero-ts"
    },
    {
      "stepId": "coding-handle-zero-ts",
      "mentorSays": "If the current element is 0, swap it with the element at left, then move both left and current forward.",
      "example": "function sortColors(nums: number[]): void {\n  // ... pointers and loop ...\n  \n  while (current <= right) {\n    if (nums[current] === 0) {\n      // Swap with left\n      [nums[current], nums[left]] = [nums[left], nums[current]];\n      left++;\n      current++;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-handle-one-ts"
    },
    {
      "stepId": "coding-handle-one-ts",
      "mentorSays": "If the current element is 1, keep it (1s belong in the middle), just move current forward.",
      "example": "function sortColors(nums: number[]): void {\n  // ... handle 0 ...\n  \n  while (current <= right) {\n    if (nums[current] === 0) {\n      [nums[current], nums[left]] = [nums[left], nums[current]];\n      left++;\n      current++;\n    } else if (nums[current] === 1) {\n      // Keep 1 in place, just move forward\n      current++;\n    }\n  }\n}",
      "action": "continue",
      "next": "coding-handle-two-ts"
    },
    {
      "stepId": "coding-handle-two-ts",
      "mentorSays": "If the current element is 2, swap it with the element at right, then move right backward. Don't move current yet - we need to check the swapped element!",
      "example": "function sortColors(nums: number[]): void {\n  // ... handle 0 and 1 ...\n  \n  while (current <= right) {\n    if (nums[current] === 0) {\n      [nums[current], nums[left]] = [nums[left], nums[current]];\n      left++;\n      current++;\n    } else if (nums[current] === 1) {\n      current++;\n    } else {  // nums[current] === 2\n      // Swap with right\n      [nums[current], nums[right]] = [nums[right], nums[current]];\n      right--;\n      // Don't increment current - check the swapped element!\n    }\n  }\n}",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter calling sortColors(nums), the array should be:\n[0, 0, 1, 1, 2, 2]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\nnums = [2, 0, 2, 1, 1, 0]\n\nAfter sortColors(nums):\nnums = [0, 0, 1, 1, 2, 2]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've learned sort colors (Dutch National Flag). You understand how to use three pointers to partition an array into three sections in one pass!\n\nThis is O(n) time and O(1) space - perfect for sorting arrays with limited distinct values! Keep practicing!",
      "action": "continue"
    }
  ]
}
