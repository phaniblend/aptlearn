{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "MentorStep",
  "description": "Contract for a single mentor step returned to the frontend",
  "type": "object",
  "required": ["lessonId", "step"],
  "properties": {
    "lessonId": {
      "type": "string",
      "description": "Unique lesson identifier (e.g., two-sum)"
    },
    "step": {
      "type": "object",
      "required": ["stepId", "mentorSays"],
      "properties": {
        "stepId": {
          "type": "string",
          "description": "Unique identifier for the step within the lesson"
        },
        "mentorSays": {
          "type": "string",
          "description": "Primary mentor instruction or question"
        },
        "example": {
          "type": "string",
          "description": "Optional illustrative example shown to the learner"
        },
        "choices": {
          "type": "array",
          "description": "Optional choices presented to the learner",
          "items": {
            "type": "object",
            "required": ["label", "next"],
            "properties": {
              "label": {
                "type": "string",
                "description": "Text shown on the choice button"
              },
              "next": {
                "type": "string",
                "description": "stepId to navigate to when this choice is selected"
              }
            }
          }
        },
        "action": {
          "type": "string",
          "enum": ["continue"],
          "description": "Implicit action when no choices are shown"
        },
        "next": {
          "type": "string",
          "description": "Next stepId when action is 'continue'"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
