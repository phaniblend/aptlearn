{
  "id": "nodejs-13-crud-api-in-memory",
  "title": "CRUD API (In-Memory)",
  "technology": "Nodejs",
  "difficulty": "mid",
  "language": "javascript",
  "status": "draft",
  "metadata": {
    "time_estimate": "25-30 minutes",
    "tests": "REST principles, array manipulation",
    "challenge_number": "13"
  },
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand CRUD API (In-Memory) in Nodejs\n2. Implement the solution using REST principles, array manipulation\n3. Apply Angular best practices and patterns\n4. Handle edge cases and error scenarios\n5. Write clean, maintainable Nodejs code",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Let's understand what this CRUD API (In-Memory) challenge asks for.\n\n**Challenge Description:**\n// Build full CRUD for todos (in-memory array):\n// GET /todos - list all\n// GET /todos/:id - get one\n// POST /todos - create (body: { title, completed })\n// PUT /todos/:id - update\n// DELETE /todos/:id - delete\n\n// Requirements:\n// - Proper status codes\n// - Handle not found (404)\n// - Validate input\n// - Generate unique IDs\n\n**What we need to build:**\nThis challenge tests your understanding of REST principles, array manipulation.\n\n**Time estimate:** 25-30 minutes\n**Difficulty level:** Mid\n\n**Expected Solution Overview:**\n```typescript\nlet todos = [];\nlet nextId = 1;\n\n// GET all\napp.get('/todos', (req, res) => {\n  res.json(todos);\n});\n\n// GET one\napp.get('/todos/:id', (req, res) => {\n  const todo = todos.find(t => t.id === parseInt(req.params.id));\n  if (!todo) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n  ...\n```\n\nThis is a practical interview question that tests your understanding of core Angular concepts and your ability to implement them correctly.",
      "example": "// Build full CRUD for todos (in-memory array):\n// GET /todos - list all\n// GET /todos/:id - get one\n// POST /todos - create (body: { title, completed })\n// PUT /todos/:id - update\n// DELETE /todos/:id - delete\n\n// Requirements:\n// - Proper status codes\n// - Handle not found (404)\n// - Validate input\n// - Generate unique IDs",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what the problem wants, here's the real question:\n\nHow would YOU solve this CRUD API (In-Memory) challenge?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "I'll start with the basic approach and build up",
          "next": "explore-approach-1"
        },
        {
          "label": "I want to see the optimal solution directly",
          "next": "explore-optimal"
        },
        {
          "label": "I need more context about the problem",
          "next": "problem-illustration"
        }
      ]
    },
    {
      "stepId": "explore-approach-1",
      "mentorSays": "Good! Starting with a basic approach is a solid strategy. Let's build it step by step, then we'll see the complete solution.",
      "action": "continue",
      "next": "explore-optimal"
    },
    {
      "stepId": "explore-optimal",
      "mentorSays": "Perfect! Here's the optimal solution approach:\n\n```typescript\nlet todos = [];\nlet nextId = 1;\n\n// GET all\napp.get('/todos', (req, res) => {\n  res.json(todos);\n});\n\n// GET one\napp.get('/todos/:id', (req, res) => {\n  const todo = todos.find(t => t.id === parseInt(req.params.id));\n  if (!todo) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n  res.json(todo);\n});\n\n// POST create\napp.post('/todos', (req, res) => {\n  const { title, completed = false } = req.body;\n  \n  if (!title) {\n    return res.status(400).json({ error: 'Title required' });\n  }\n\n  const todo = {\n    id: nextId++,\n    title,\n    completed\n  };\n  todos.push(todo);\n  res.status(201).json(todo);\n});\n\n// PUT update\napp.put('/todos/:id', (req, res) => {\n  const id = parseInt(req.params.id);\n  const index = todos.findIndex(t => t.id === id);\n  \n  if (index === -1) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n\n  todos[index] = {\n    ...todos[index],\n    ...req.body,\n    id // Keep original id\n  };\n  res.json(todos[index]);\n});\n\n// DELETE\napp.delete('/todos/:id', (req, res) => {\n  const id = parseInt(req.params.id);\n  const index = todos.findIndex(t => t.id === id);\n  \n  if (index === -1) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n\n  todos.splice(index, 1);\n  res.status(204).send();\n});\n```\n\nThis solution demonstrates best practices for Nodejs development and shows how to properly implement REST principles, array manipulation.",
      "example": "let todos = [];\nlet nextId = 1;\n\n// GET all\napp.get('/todos', (req, res) => {\n  res.json(todos);\n});\n\n// GET one\napp.get('/todos/:id', (req, res) => {\n  const todo = todos.find(t => t.id === parseInt(req.params.id));\n  if (!todo) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n  res.json(todo);\n});\n\n// POST create\napp.post('/todos', (req, res) => {\n  const { title, completed = false } = req.body;\n  \n  if (!title) {\n    return res.status(400).json({ error: 'Title required' });\n  }\n\n  const todo = {\n    id: nextId++,\n    title,\n    completed\n  };\n  todos.push(todo);\n  res.status(201).json(todo);\n});\n\n// PUT update\napp.put('/todos/:id', (req, res) => {\n  const id = parseInt(req.params.id);\n  const index = todos.findIndex(t => t.id === id);\n  \n  if (index === -1) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n\n  todos[index] = {\n    ...todos[index],\n    ...req.body,\n    id // Keep original id\n  };\n  res.json(todos[index]);\n});\n\n// DELETE\napp.delete('/todos/:id', (req, res) => {\n  const id = parseInt(req.params.id);\n  const index = todos.findIndex(t => t.id === id);\n  \n  if (index === -1) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n\n  todos.splice(index, 1);\n  res.status(204).send();\n});",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        }
      ]
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Let's implement the solution:",
      "example": "let todos = [];\nlet nextId = 1;\n\n// GET all\napp.get('/todos', (req, res) => {\n  res.json(todos);\n});\n\n// GET one\napp.get('/todos/:id', (req, res) => {\n  const todo = todos.find(t => t.id === parseInt(req.params.id));\n  if (!todo) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n  res.json(todo);\n});\n\n// POST create\napp.post('/todos', (req, res) => {\n  const { title, completed = false } = req.body;\n  \n  if (!title) {\n    return res.status(400).json({ error: 'Title required' });\n  }\n\n  const todo = {\n    id: nextId++,\n    title,\n    completed\n  };\n  todos.push(todo);\n  res.status(201).json(todo);\n});\n\n// PUT update\napp.put('/todos/:id', (req, res) => {\n  const id = parseInt(req.params.id);\n  const index = todos.findIndex(t => t.id === id);\n  \n  if (index === -1) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n\n  todos[index] = {\n    ...todos[index],\n    ...req.body,\n    id // Keep original id\n  };\n  res.json(todos[index]);\n});\n\n// DELETE\napp.delete('/todos/:id', (req, res) => {\n  const id = parseInt(req.params.id);\n  const index = todos.findIndex(t => t.id === id);\n  \n  if (index === -1) {\n    return res.status(404).json({ error: 'Todo not found' });\n  }\n\n  todos.splice(index, 1);\n  res.status(204).send();\n});",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code. Make sure it works correctly for the CRUD API (In-Memory) challenge.\n\n**Test Cases:**\n1. Test with basic input\n2. Test with edge cases\n3. Test with empty/null values\n4. Verify the output matches expected behavior\n\nTry running it and verify the solution works as expected.",
      "example": "// Test cases for CRUD API (In-Memory)\n// 1. Basic functionality\n// 2. Edge cases\n// 3. Error handling",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've completed the CRUD API (In-Memory) challenge.\n\n**Key Takeaways:**\n- You've mastered REST principles, array manipulation\n- You understand how to implement CRUD API (In-Memory) in Nodejs\n- You've applied best practices for Nodejs development\n- You can handle this type of interview question confidently\n\n**Time Complexity:** Varies based on implementation\n**Space Complexity:** Varies based on implementation\n\n**Related Challenges:**\n- Practice similar Nodejs concepts\n- Try variations of this challenge\n- Explore more advanced Nodejs patterns\n\nKeep practicing!",
      "action": "continue"
    }
  ]
}