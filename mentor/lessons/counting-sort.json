{
  "id": "counting-sort",
  "title": "Counting sort",
  "pattern": "sorting",
  "difficulty": "medium",
  "language": "javascript",
  "status": "draft",
  "flow": [
    {
      "stepId": "title",
      "mentorSays": "At the end of this lesson, you will be able to:\n\n1. Understand how counting sort works\n2. Count occurrences of each value\n3. Use cumulative counts to place elements in sorted order\n4. Implement counting sort step by step in your chosen language",
      "action": "continue",
      "next": "problem-illustration"
    },
    {
      "stepId": "problem-illustration",
      "mentorSays": "Perfect! Now let's understand what Counting Sort does.\n\nImagine you have an unsorted array: [4, 2, 2, 8, 3, 3, 1]\n\nYour task: Sort it in ascending order (smallest to largest).\n\nCounting sort works by counting how many times each value appears, then placing them in order. It's very efficient when the range of values is small!\n\nLet's trace through the algorithm:\n\n**Step 1: Find range**\n- Min = 1, Max = 8\n- Range size = 8 - 1 + 1 = 8\n\n**Step 2: Count occurrences**\n- Create count array: [0, 0, 0, 0, 0, 0, 0, 0] (size 8, indices 0-7)\n- Count each value:\n  - Value 1 appears 1 time â†’ count[0] = 1 (1 maps to index 0)\n  - Value 2 appears 2 times â†’ count[1] = 2 (2 maps to index 1)\n  - Value 3 appears 2 times â†’ count[2] = 2 (3 maps to index 2)\n  - Value 4 appears 1 time â†’ count[3] = 1 (4 maps to index 3)\n  - Value 8 appears 1 time â†’ count[7] = 1 (8 maps to index 7)\n\n**Step 3: Build cumulative counts**\n- Convert to cumulative: how many elements â‰¤ each value\n- count[0] = 1 (1 element â‰¤ 1)\n- count[1] = 3 (3 elements â‰¤ 2)\n- count[2] = 5 (5 elements â‰¤ 3)\n- count[3] = 6 (6 elements â‰¤ 4)\n- count[7] = 7 (7 elements â‰¤ 8)\n\n**Step 4: Place elements**\n- Go through original array backwards\n- For each element, use cumulative count to find its position\n- Decrement count after placing\n- Result: [1, 2, 2, 3, 3, 4, 8]\n\n**Final**: [1, 2, 2, 3, 3, 4, 8] (sorted!)\n\nCounting sort is O(n + k) where k is the range - very efficient for small ranges!",
      "example": "arr = [4, 2, 2, 8, 3, 3, 1]\n\nStep 1: Find range â†’ min=1, max=8, range=8\nStep 2: Count â†’ count[0]=1, count[1]=2, count[2]=2, count[3]=1, count[7]=1\nStep 3: Cumulative â†’ [1, 3, 5, 6, 6, 6, 6, 7]\nStep 4: Place â†’ [1, 2, 2, 3, 3, 4, 8]\n\nFinal: [1, 2, 2, 3, 3, 4, 8]",
      "action": "continue",
      "next": "thinking-challenge"
    },
    {
      "stepId": "thinking-challenge",
      "mentorSays": "Now that you understand what counting sort does, here's the real question:\n\nHow would YOU implement counting sort?\n\nThink about it for a moment. What approach feels natural to you?",
      "choices": [
        {
          "label": "Count occurrences, build cumulative counts, then place elements",
          "next": "explore-counting-approach"
        },
        {
          "label": "Use a different sorting approach",
          "next": "explore-alternative"
        }
      ]
    },
    {
      "stepId": "explore-alternative",
      "mentorSays": "Other sorting approaches like bubble sort or merge sort work, but counting sort is special - it's a non-comparison sort that's very efficient for small ranges!\n\nLet's learn the counting sort approach, which is O(n + k) time - much better than O(nÂ²) or O(n log n) when the range k is small.",
      "action": "continue",
      "next": "explore-counting-approach"
    },
    {
      "stepId": "explore-counting-approach",
      "mentorSays": "Excellent choice! Counting sort is a non-comparison sorting algorithm. Here's the core idea:\n\n1. **Find range**: Determine min and max values to know the range\n2. **Count array**: Create array to count occurrences of each value\n3. **Count occurrences**: Count how many times each value appears\n4. **Cumulative counts**: Convert to cumulative counts (how many elements â‰¤ each value)\n5. **Place elements**: Use cumulative counts to place each element in correct position\n\nLet's trace this with [4, 2, 2, 8, 3, 3, 1]:\n\n- **Range**: min=1, max=8, size=8\n- **Count**: [1, 2, 2, 1, 0, 0, 0, 1] (for values 1-8)\n- **Cumulative**: [1, 3, 5, 6, 6, 6, 6, 7]\n- **Place**: Use cumulative to determine positions, going backwards through original array\n- **Result**: [1, 2, 2, 3, 3, 4, 8]\n\nThis is O(n + k) time complexity where k is the range - much better than O(nÂ²) for small ranges! Now let's code it step by step.",
      "action": "continue",
      "next": "language-selection"
    },
    {
      "stepId": "language-selection",
      "mentorSays": "Great! Now let's code this solution. Which programming language would you like to use?",
      "choices": [
        {
          "label": "JavaScript",
          "next": "variable-check-js"
        },
        {
          "label": "Python",
          "next": "variable-check-python"
        },
        {
          "label": "Java",
          "next": "variable-check-java"
        },
        {
          "label": "C++",
          "next": "variable-check-cpp"
        },
        {
          "label": "TypeScript",
          "next": "variable-check-ts"
        }
      ]
    },
    {
      "stepId": "variable-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-js"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-js"
        }
      ]
    },
    {
      "stepId": "variable-explanation-js",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'count') and put data inside it.\n\nFor example, 'let count = 0;' creates a variable that stores the number 0. Later, you can use that variable name to refer to it.",
      "example": "let count = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-js"
    },
    {
      "stepId": "function-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-js"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-js"
        }
      ]
    },
    {
      "stepId": "function-explanation-js",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "function add(a, b) {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-js"
    },
    {
      "stepId": "array-check-js",
      "mentorSays": "Before we start coding, let me ask: Do you know what an array is in JavaScript?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "coding-start-js"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-js"
        }
      ]
    },
    {
      "stepId": "array-explanation-js",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0.",
      "example": "arr = [1, 2, 3]\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-js"
    },
    {
      "stepId": "coding-start-js",
      "mentorSays": "Perfect! Let's implement counting sort in JavaScript. We'll create a function that counts occurrences and places elements in sorted order.",
      "example": "function countingSort(arr) {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-find-range-js"
    },
    {
      "stepId": "coding-find-range-js",
      "mentorSays": "First, let's find the minimum and maximum values to determine the range. We'll also handle the edge case of an empty array.",
      "example": "function countingSort(arr) {\n  if (arr.length === 0) return arr;\n  \n  // Find min and max\n  let min = arr[0];\n  let max = arr[0];\n  for (let i = 1; i < arr.length; i++) {\n    if (arr[i] < min) min = arr[i];\n    if (arr[i] > max) max = arr[i];\n  }\n  \n  const range = max - min + 1;",
      "action": "continue",
      "next": "coding-create-count-js"
    },
    {
      "stepId": "coding-create-count-js",
      "mentorSays": "Now, create a count array to store occurrences of each value. The size is the range (max - min + 1).",
      "example": "function countingSort(arr) {\n  // ... find range ...\n  \n  // Create count array\n  const count = new Array(range).fill(0);",
      "action": "continue",
      "next": "coding-count-occurrences-js"
    },
    {
      "stepId": "coding-count-occurrences-js",
      "mentorSays": "Count how many times each value appears in the array. We map each value to an index: value - min.",
      "example": "function countingSort(arr) {\n  // ... count array ...\n  \n  // Count occurrences\n  for (let i = 0; i < arr.length; i++) {\n    count[arr[i] - min]++;\n  }",
      "action": "continue",
      "next": "coding-cumulative-js"
    },
    {
      "stepId": "coding-cumulative-js",
      "mentorSays": "Convert count array to cumulative counts. Each position now represents how many elements are â‰¤ that value.",
      "example": "function countingSort(arr) {\n  // ... count occurrences ...\n  \n  // Build cumulative counts\n  for (let i = 1; i < range; i++) {\n    count[i] += count[i - 1];\n  }",
      "action": "continue",
      "next": "coding-place-elements-js"
    },
    {
      "stepId": "coding-place-elements-js",
      "mentorSays": "Create output array and place each element in its correct position using cumulative counts. We go backwards through the original array to maintain stability.",
      "example": "function countingSort(arr) {\n  // ... cumulative counts ...\n  \n  // Place elements in sorted order\n  const output = new Array(arr.length);\n  for (let i = arr.length - 1; i >= 0; i--) {\n    output[count[arr[i] - min] - 1] = arr[i];\n    count[arr[i] - min]--;\n  }\n  \n  return output;",
      "action": "continue",
      "next": "test-code-js"
    },
    {
      "stepId": "test-code-js",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter calling countingSort(arr), it should return:\n[1, 2, 2, 3, 3, 4, 8]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter countingSort(arr):\n[1, 2, 2, 3, 3, 4, 8]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Python?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-python"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-python"
        }
      ]
    },
    {
      "stepId": "variable-explanation-python",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'count') and put data inside it.\n\nFor example, 'count = 0' creates a variable that stores the number 0.",
      "example": "count = 0\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-python"
    },
    {
      "stepId": "function-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in Python?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-python"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-python"
        }
      ]
    },
    {
      "stepId": "function-explanation-python",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "def add(a, b):\n    return a + b\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-python"
    },
    {
      "stepId": "array-check-python",
      "mentorSays": "Before we start coding, let me ask: Do you know what a list is in Python?",
      "choices": [
        {
          "label": "Yes, I know lists",
          "next": "coding-start-python"
        },
        {
          "label": "No, explain lists",
          "next": "array-explanation-python"
        }
      ]
    },
    {
      "stepId": "array-explanation-python",
      "mentorSays": "A list is like an array - a collection of items that keeps them in order. Each item has a position number called an 'index'. List indices start counting from 0.",
      "example": "arr = [1, 2, 3]\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-python"
    },
    {
      "stepId": "coding-start-python",
      "mentorSays": "Perfect! Let's implement counting sort in Python. We'll create a function that counts occurrences and places elements in sorted order.",
      "example": "def counting_sort(arr):\n    # Your code here\n    pass",
      "action": "continue",
      "next": "coding-find-range-python"
    },
    {
      "stepId": "coding-find-range-python",
      "mentorSays": "First, let's find the minimum and maximum values to determine the range. We'll also handle the edge case of an empty list.",
      "example": "def counting_sort(arr):\n    if len(arr) == 0:\n        return arr\n    \n    # Find min and max\n    min_val = min(arr)\n    max_val = max(arr)\n    range_size = max_val - min_val + 1",
      "action": "continue",
      "next": "coding-create-count-python"
    },
    {
      "stepId": "coding-create-count-python",
      "mentorSays": "Now, create a count list to store occurrences of each value. The size is the range (max - min + 1).",
      "example": "def counting_sort(arr):\n    # ... find range ...\n    \n    # Create count list\n    count = [0] * range_size",
      "action": "continue",
      "next": "coding-count-occurrences-python"
    },
    {
      "stepId": "coding-count-occurrences-python",
      "mentorSays": "Count how many times each value appears in the list. We map each value to an index: value - min_val.",
      "example": "def counting_sort(arr):\n    # ... count list ...\n    \n    # Count occurrences\n    for num in arr:\n        count[num - min_val] += 1",
      "action": "continue",
      "next": "coding-cumulative-python"
    },
    {
      "stepId": "coding-cumulative-python",
      "mentorSays": "Convert count list to cumulative counts. Each position now represents how many elements are â‰¤ that value.",
      "example": "def counting_sort(arr):\n    # ... count occurrences ...\n    \n    # Build cumulative counts\n    for i in range(1, range_size):\n        count[i] += count[i - 1]",
      "action": "continue",
      "next": "coding-place-elements-python"
    },
    {
      "stepId": "coding-place-elements-python",
      "mentorSays": "Create output list and place each element in its correct position using cumulative counts. We go backwards through the original list to maintain stability.",
      "example": "def counting_sort(arr):\n    # ... cumulative counts ...\n    \n    # Place elements in sorted order\n    output = [0] * len(arr)\n    for i in range(len(arr) - 1, -1, -1):\n        output[count[arr[i] - min_val] - 1] = arr[i]\n        count[arr[i] - min_val] -= 1\n    \n    return output",
      "action": "continue",
      "next": "test-code-python"
    },
    {
      "stepId": "test-code-python",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter calling counting_sort(arr), it should return:\n[1, 2, 2, 3, 3, 4, 8]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter counting_sort(arr):\n[1, 2, 2, 3, 3, 4, 8]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in Java?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-java"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-java"
        }
      ]
    },
    {
      "stepId": "variable-explanation-java",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'count') and put data inside it.\n\nFor example, 'int count = 0;' creates a variable that stores the number 0.",
      "example": "int count = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-java"
    },
    {
      "stepId": "function-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what a method is in Java?",
      "choices": [
        {
          "label": "Yes, I know methods",
          "next": "array-check-java"
        },
        {
          "label": "No, explain methods",
          "next": "function-explanation-java"
        }
      ]
    },
    {
      "stepId": "function-explanation-java",
      "mentorSays": "A method is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "public int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-java"
    },
    {
      "stepId": "array-check-java",
      "mentorSays": "Before we start coding, let me ask: Do you know what an array is in Java?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "coding-start-java"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-java"
        }
      ]
    },
    {
      "stepId": "array-explanation-java",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0.",
      "example": "int[] arr = {1, 2, 3};\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-java"
    },
    {
      "stepId": "coding-start-java",
      "mentorSays": "Perfect! Let's implement counting sort in Java. We'll create a method that counts occurrences and places elements in sorted order.",
      "example": "public static int[] countingSort(int[] arr) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-find-range-java"
    },
    {
      "stepId": "coding-find-range-java",
      "mentorSays": "First, let's find the minimum and maximum values to determine the range. We'll also handle the edge case of an empty array.",
      "example": "public static int[] countingSort(int[] arr) {\n    if (arr.length == 0) return arr;\n    \n    // Find min and max\n    int min = arr[0];\n    int max = arr[0];\n    for (int i = 1; i < arr.length; i++) {\n        if (arr[i] < min) min = arr[i];\n        if (arr[i] > max) max = arr[i];\n    }\n    \n    int range = max - min + 1;",
      "action": "continue",
      "next": "coding-create-count-java"
    },
    {
      "stepId": "coding-create-count-java",
      "mentorSays": "Now, create a count array to store occurrences of each value. The size is the range (max - min + 1).",
      "example": "public static int[] countingSort(int[] arr) {\n    // ... find range ...\n    \n    // Create count array\n    int[] count = new int[range];",
      "action": "continue",
      "next": "coding-count-occurrences-java"
    },
    {
      "stepId": "coding-count-occurrences-java",
      "mentorSays": "Count how many times each value appears in the array. We map each value to an index: value - min.",
      "example": "public static int[] countingSort(int[] arr) {\n    // ... count array ...\n    \n    // Count occurrences\n    for (int i = 0; i < arr.length; i++) {\n        count[arr[i] - min]++;\n    }",
      "action": "continue",
      "next": "coding-cumulative-java"
    },
    {
      "stepId": "coding-cumulative-java",
      "mentorSays": "Convert count array to cumulative counts. Each position now represents how many elements are â‰¤ that value.",
      "example": "public static int[] countingSort(int[] arr) {\n    // ... count occurrences ...\n    \n    // Build cumulative counts\n    for (int i = 1; i < range; i++) {\n        count[i] += count[i - 1];\n    }",
      "action": "continue",
      "next": "coding-place-elements-java"
    },
    {
      "stepId": "coding-place-elements-java",
      "mentorSays": "Create output array and place each element in its correct position using cumulative counts. We go backwards through the original array to maintain stability.",
      "example": "public static int[] countingSort(int[] arr) {\n    // ... cumulative counts ...\n    \n    // Place elements in sorted order\n    int[] output = new int[arr.length];\n    for (int i = arr.length - 1; i >= 0; i--) {\n        output[count[arr[i] - min] - 1] = arr[i];\n        count[arr[i] - min]--;\n    }\n    \n    return output;",
      "action": "continue",
      "next": "test-code-java"
    },
    {
      "stepId": "test-code-java",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter calling countingSort(arr), it should return:\n[1, 2, 2, 3, 3, 4, 8]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter countingSort(arr):\n[1, 2, 2, 3, 3, 4, 8]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in C++?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-cpp"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "variable-explanation-cpp",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'count') and put data inside it.\n\nFor example, 'int count = 0;' creates a variable that stores the number 0.",
      "example": "int count = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-cpp"
    },
    {
      "stepId": "function-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in C++?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-cpp"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "function-explanation-cpp",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "int add(int a, int b) {\n    return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-cpp"
    },
    {
      "stepId": "array-check-cpp",
      "mentorSays": "Before we start coding, let me ask: Do you know what a vector is in C++?",
      "choices": [
        {
          "label": "Yes, I know vectors",
          "next": "coding-start-cpp"
        },
        {
          "label": "No, explain vectors",
          "next": "array-explanation-cpp"
        }
      ]
    },
    {
      "stepId": "array-explanation-cpp",
      "mentorSays": "A vector is like an array - a collection of items that keeps them in order. Each item has a position number called an 'index'. Vector indices start counting from 0.",
      "example": "vector<int> arr = {1, 2, 3};\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-cpp"
    },
    {
      "stepId": "coding-start-cpp",
      "mentorSays": "Perfect! Let's implement counting sort in C++. We'll create a function that counts occurrences and places elements in sorted order.",
      "example": "vector<int> countingSort(vector<int>& arr) {\n    // Your code here\n}",
      "action": "continue",
      "next": "coding-find-range-cpp"
    },
    {
      "stepId": "coding-find-range-cpp",
      "mentorSays": "First, let's find the minimum and maximum values to determine the range. We'll also handle the edge case of an empty vector.",
      "example": "vector<int> countingSort(vector<int>& arr) {\n    if (arr.empty()) return arr;\n    \n    // Find min and max\n    int min = arr[0];\n    int max = arr[0];\n    for (int i = 1; i < arr.size(); i++) {\n        if (arr[i] < min) min = arr[i];\n        if (arr[i] > max) max = arr[i];\n    }\n    \n    int range = max - min + 1;",
      "action": "continue",
      "next": "coding-create-count-cpp"
    },
    {
      "stepId": "coding-create-count-cpp",
      "mentorSays": "Now, create a count vector to store occurrences of each value. The size is the range (max - min + 1).",
      "example": "vector<int> countingSort(vector<int>& arr) {\n    // ... find range ...\n    \n    // Create count vector\n    vector<int> count(range, 0);",
      "action": "continue",
      "next": "coding-count-occurrences-cpp"
    },
    {
      "stepId": "coding-count-occurrences-cpp",
      "mentorSays": "Count how many times each value appears in the vector. We map each value to an index: value - min.",
      "example": "vector<int> countingSort(vector<int>& arr) {\n    // ... count vector ...\n    \n    // Count occurrences\n    for (int i = 0; i < arr.size(); i++) {\n        count[arr[i] - min]++;\n    }",
      "action": "continue",
      "next": "coding-cumulative-cpp"
    },
    {
      "stepId": "coding-cumulative-cpp",
      "mentorSays": "Convert count vector to cumulative counts. Each position now represents how many elements are â‰¤ that value.",
      "example": "vector<int> countingSort(vector<int>& arr) {\n    // ... count occurrences ...\n    \n    // Build cumulative counts\n    for (int i = 1; i < range; i++) {\n        count[i] += count[i - 1];\n    }",
      "action": "continue",
      "next": "coding-place-elements-cpp"
    },
    {
      "stepId": "coding-place-elements-cpp",
      "mentorSays": "Create output vector and place each element in its correct position using cumulative counts. We go backwards through the original vector to maintain stability.",
      "example": "vector<int> countingSort(vector<int>& arr) {\n    // ... cumulative counts ...\n    \n    // Place elements in sorted order\n    vector<int> output(arr.size());\n    for (int i = arr.size() - 1; i >= 0; i--) {\n        output[count[arr[i] - min] - 1] = arr[i];\n        count[arr[i] - min]--;\n    }\n    \n    return output;",
      "action": "continue",
      "next": "test-code-cpp"
    },
    {
      "stepId": "test-code-cpp",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter calling countingSort(arr), it should return:\n[1, 2, 2, 3, 3, 4, 8]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter countingSort(arr):\n[1, 2, 2, 3, 3, 4, 8]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "variable-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a variable is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know variables",
          "next": "function-check-ts"
        },
        {
          "label": "No, explain variables",
          "next": "variable-explanation-ts"
        }
      ]
    },
    {
      "stepId": "variable-explanation-ts",
      "mentorSays": "A variable is like a labeled box where you can store a value. You give it a name (like 'arr' or 'count') and put data inside it.\n\nFor example, 'let count: number = 0;' creates a variable that stores the number 0.",
      "example": "let count: number = 0;\n\nNow the variable refers to the number 0",
      "action": "continue",
      "next": "function-check-ts"
    },
    {
      "stepId": "function-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what a function is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know functions",
          "next": "array-check-ts"
        },
        {
          "label": "No, explain functions",
          "next": "function-explanation-ts"
        }
      ]
    },
    {
      "stepId": "function-explanation-ts",
      "mentorSays": "A function is a reusable block of code. You give it inputs (called parameters), and it can return an output.",
      "example": "function add(a: number, b: number): number {\n  return a + b;\n}\n\nadd(3, 5) returns 8",
      "action": "continue",
      "next": "array-check-ts"
    },
    {
      "stepId": "array-check-ts",
      "mentorSays": "Before we start coding, let me ask: Do you know what an array is in TypeScript?",
      "choices": [
        {
          "label": "Yes, I know arrays",
          "next": "coding-start-ts"
        },
        {
          "label": "No, explain arrays",
          "next": "array-explanation-ts"
        }
      ]
    },
    {
      "stepId": "array-explanation-ts",
      "mentorSays": "An array is like a list of items that keeps them in order. Each item has a position number called an 'index'. Array indices start counting from 0.",
      "example": "arr: number[] = [1, 2, 3]\n\narr[0] = 1\narr[1] = 2\narr[2] = 3",
      "action": "continue",
      "next": "coding-start-ts"
    },
    {
      "stepId": "coding-start-ts",
      "mentorSays": "Perfect! Let's implement counting sort in TypeScript. We'll create a function that counts occurrences and places elements in sorted order.",
      "example": "function countingSort(arr: number[]): number[] {\n  // Your code here\n}",
      "action": "continue",
      "next": "coding-find-range-ts"
    },
    {
      "stepId": "coding-find-range-ts",
      "mentorSays": "First, let's find the minimum and maximum values to determine the range. We'll also handle the edge case of an empty array.",
      "example": "function countingSort(arr: number[]): number[] {\n  if (arr.length === 0) return arr;\n  \n  // Find min and max\n  let min: number = arr[0];\n  let max: number = arr[0];\n  for (let i = 1; i < arr.length; i++) {\n    if (arr[i] < min) min = arr[i];\n    if (arr[i] > max) max = arr[i];\n  }\n  \n  const range: number = max - min + 1;",
      "action": "continue",
      "next": "coding-create-count-ts"
    },
    {
      "stepId": "coding-create-count-ts",
      "mentorSays": "Now, create a count array to store occurrences of each value. The size is the range (max - min + 1).",
      "example": "function countingSort(arr: number[]): number[] {\n  // ... find range ...\n  \n  // Create count array\n  const count: number[] = new Array(range).fill(0);",
      "action": "continue",
      "next": "coding-count-occurrences-ts"
    },
    {
      "stepId": "coding-count-occurrences-ts",
      "mentorSays": "Count how many times each value appears in the array. We map each value to an index: value - min.",
      "example": "function countingSort(arr: number[]): number[] {\n  // ... count array ...\n  \n  // Count occurrences\n  for (let i = 0; i < arr.length; i++) {\n    count[arr[i] - min]++;\n  }",
      "action": "continue",
      "next": "coding-cumulative-ts"
    },
    {
      "stepId": "coding-cumulative-ts",
      "mentorSays": "Convert count array to cumulative counts. Each position now represents how many elements are â‰¤ that value.",
      "example": "function countingSort(arr: number[]): number[] {\n  // ... count occurrences ...\n  \n  // Build cumulative counts\n  for (let i = 1; i < range; i++) {\n    count[i] += count[i - 1];\n  }",
      "action": "continue",
      "next": "coding-place-elements-ts"
    },
    {
      "stepId": "coding-place-elements-ts",
      "mentorSays": "Create output array and place each element in its correct position using cumulative counts. We go backwards through the original array to maintain stability.",
      "example": "function countingSort(arr: number[]): number[] {\n  // ... cumulative counts ...\n  \n  // Place elements in sorted order\n  const output: number[] = new Array(arr.length);\n  for (let i = arr.length - 1; i >= 0; i--) {\n    output[count[arr[i] - min] - 1] = arr[i];\n    count[arr[i] - min]--;\n  }\n  \n  return output;",
      "action": "continue",
      "next": "test-code-ts"
    },
    {
      "stepId": "test-code-ts",
      "mentorSays": "Perfect! Now test your code with the example we used earlier:\n\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter calling countingSort(arr), it should return:\n[1, 2, 2, 3, 3, 4, 8]\n\nTry it in your IDE or code editor!",
      "example": "Test input:\narr = [4, 2, 2, 8, 3, 3, 1]\n\nAfter countingSort(arr):\n[1, 2, 2, 3, 3, 4, 8]",
      "action": "continue",
      "next": "final"
    },
    {
      "stepId": "final",
      "mentorSays": "ðŸŽ‰ Well done! You've learned counting sort. You understand how it counts occurrences and places elements efficiently!\n\nCounting sort is O(n + k) time - excellent for small ranges! Keep practicing!",
      "action": "continue"
    }
  ]
}
